# AI書類作成アシスタント機能詳細

## 概要
AIDocumentAssistantコンポーネントは、補助金申請書の作成を対話形式でサポートする高度なAIアシスタント機能を提供します。

## 主な機能

### 1. 補助金別カスタマイズ質問
各補助金タイプに応じた専門的な質問セットを実装：

#### IT導入補助金2025
- **基本情報**: 法人名、業種、従業員数、売上高
- **IT導入ニーズ**: 現在の業務課題（複数選択）、改善したい業務プロセス、期待効果
- **ITツール選定**: ツールカテゴリ、具体的なツール名、導入予算、導入時期

#### ものづくり補助金
- **基本情報**: 法人名、製造業の種類、従業員数、資本金
- **革新的事業計画**: 事業計画タイトル、革新的サービス内容、市場ニーズ、競合優位性
- **実施計画**: 開発プロセス、必要設備、総事業費、期待成果

#### 小規模事業者持続化補助金
- **基本情報**: 事業者名、事業形態、従業員数、創業年数
- **経営計画**: 現在の経営状況、ターゲット市場、販路開拓方法、投資詳細
- **期待成果**: 売上増加見込み、新規顧客数、雇用計画、3年後ビジョン

### 2. AI提案・補完機能
各質問に対してAIが以下のサポートを提供：
- **入力例の提示**: 具体的な記入例を表示
- **ヘルプテキスト**: 質問の意図や注意点を説明
- **AI提案**: 回答の方向性や含めるべき要素を提案

### 3. リアルタイムプレビュー
- 右側パネルに申請書のプレビューを常時表示
- 入力内容が即座に反映
- セクション別の完了状態を視覚的に表示
- 各項目の編集ボタンで簡単に修正可能

### 4. 進捗管理
- 質問の進捗をプログレスバーで表示
- 現在の質問番号と総質問数を表示
- 必須項目の完了率を自動計算

### 5. エクスポート機能
申請書を以下の形式でエクスポート可能：
- **PDF**: 正式な申請書形式
- **Word**: 編集可能なドキュメント
- **Excel**: データ管理用スプレッドシート

### 6. UI/UXの特徴
- **チャット形式**: 親しみやすい対話インターフェース
- **タイピングアニメーション**: AIが考えている様子を表現
- **レスポンシブデザイン**: 画面サイズに応じて最適化
- **プレビューの表示/非表示**: 作業スペースを柔軟に調整

## 技術的な実装詳細

### 状態管理
- `documentData`: 申請書の全データを管理
- `messages`: チャット履歴を保持
- `currentQuestionId`: 現在の質問を追跡
- `showPreview`: プレビュー表示状態

### 質問フロー
1. 補助金タイプの選択
2. セクション別の質問を順次表示
3. 必須項目を優先的に処理
4. 全項目完了後、任意項目の確認
5. エクスポートオプションの提示

### データ構造
```typescript
interface DocumentQuestion {
  id: string;
  question: string;
  type: 'text' | 'email' | 'tel' | 'number' | 'date' | 'select' | 'multiline' | 'multiselect';
  options?: string[];
  validation?: (value: any) => boolean;
  helpText?: string;
  aiSuggestions?: string[];
  required?: boolean;
  value?: any;
}
```

## 今後の拡張可能性
1. **自動入力機能**: 過去のデータから自動補完
2. **バリデーション強化**: より詳細な入力チェック
3. **テンプレート機能**: よくある回答パターンの保存
4. **複数言語対応**: 英語版の追加
5. **API連携**: 外部システムとのデータ連携