import React, { useEffect, useState } from 'react';
import { Download, FileText, CheckCircle, Calendar, ExternalLink, Printer, FileSignature, Eye } from 'lucide-react';
import '../styles/modern-ui.css';

interface CompletionPageProps {
  selectedSubsidy: string;
  formData: any;
  requiredDocuments: any[];
}

interface DocumentDownload {
  id: string;
  name: string;
  description: string;
  fileType: 'excel' | 'word' | 'pdf';
  category: 'template' | 'filled' | 'reference';
  downloadUrl?: string;
  size?: string;
}

export const CompletionPage: React.FC<CompletionPageProps> = ({
  selectedSubsidy,
  formData,
  requiredDocuments
}) => {
  const [downloadLinks, setDownloadLinks] = useState<DocumentDownload[]>([]);
  const [isGenerating, setIsGenerating] = useState(false);
  const [showDocumentPreview, setShowDocumentPreview] = useState(false);
  const [selectedDocument, setSelectedDocument] = useState<string>('');
  const [generatedContent, setGeneratedContent] = useState<any>(null);
  const [isEditMode, setIsEditMode] = useState(false);
  const [editedContent, setEditedContent] = useState<any>(null);

  // è£œåŠ©é‡‘åˆ¥ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æ›¸é¡ã‚’è¨­å®š
  useEffect(() => {
    const generateDownloadLinks = () => {
      let documents: DocumentDownload[] = [];

      switch (selectedSubsidy) {
        case 'it-donyu':
          documents = [
            {
              id: 'it_filled_application',
              name: 'å…¥åŠ›æ¸ˆã¿ç”³è«‹æ›¸ä¸€å¼',
              description: 'ãŠå®¢æ§˜ã®æƒ…å ±ãŒå…¥åŠ›ã•ã‚ŒãŸç”³è«‹æ›¸é¡',
              fileType: 'excel',
              category: 'filled',
              size: '2.1MB'
            },
            {
              id: 'it_wage_report',
              name: 'è³ƒé‡‘å ±å‘Šæ›¸',
              description: 'è³ƒä¸Šã’è¨ˆç”»ã®è©³ç´°æ›¸é¡',
              fileType: 'excel',
              category: 'filled',
              size: '856KB'
            },
            {
              id: 'it_implementation_plan',
              name: 'å®Ÿæ–½å†…å®¹èª¬æ˜æ›¸',
              description: 'ITå°å…¥è¨ˆç”»ã®è©³ç´°',
              fileType: 'excel',
              category: 'filled',
              size: '1.2MB'
            },
            {
              id: 'it_price_breakdown',
              name: 'ä¾¡æ ¼èª¬æ˜æ›¸',
              description: 'å°å…¥è²»ç”¨ã®è©³ç´°å†…è¨³',
              fileType: 'excel',
              category: 'filled',
              size: '945KB'
            },
            {
              id: 'it_template_blank',
              name: 'ç©ºç™½ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä¸€å¼',
              description: 'è¨˜å…¥å‰ã®ã‚ªãƒªã‚¸ãƒŠãƒ«æ›¸é¡ï¼ˆå‚è€ƒç”¨ï¼‰',
              fileType: 'excel',
              category: 'template',
              size: '1.8MB'
            },
            {
              id: 'it_application_guide',
              name: 'ITå°å…¥è£œåŠ©é‡‘ç”³è«‹ã‚¬ã‚¤ãƒ‰',
              description: 'ç”³è«‹æ‰‹é †ã¨æ³¨æ„äº‹é …',
              fileType: 'pdf',
              category: 'reference',
              size: '3.4MB'
            }
          ];
          break;

        case 'monozukuri':
          documents = [
            {
              id: 'mono_A1_business_plan',
              name: 'ã€A1ã€‘äº‹æ¥­è¨ˆç”»æ›¸ï¼ˆå…¥åŠ›æ¸ˆã¿ï¼‰',
              description: 'ã‚·ã‚¹ãƒ†ãƒ å…¥åŠ›å†…å®¹ï¼‹åˆ¥ç´™Wordå½¢å¼',
              fileType: 'word',
              category: 'filled',
              size: '2.5MB'
            },
            {
              id: 'mono_B1_expense_pledge',
              name: 'ã€B1ã€‘è£œåŠ©å¯¾è±¡çµŒè²»èª“ç´„æ›¸ã€æ§˜å¼1ã€‘',
              description: 'è¨˜å…¥æ¸ˆã¿ãƒ»æŠ¼å°ç®‡æ‰€ã‚ã‚Š',
              fileType: 'pdf',
              category: 'filled',
              size: '456KB'
            },
            {
              id: 'mono_B2_wage_pledge',
              name: 'ã€B2ã€‘è³ƒé‡‘å¼•ä¸Šã’è¨ˆç”»ã®èª“ç´„æ›¸ã€æ§˜å¼2ã€‘',
              description: 'å¿…é ˆè¦ä»¶ãƒ»è¨˜å…¥æ¸ˆã¿',
              fileType: 'pdf',
              category: 'filled',
              size: '512KB'
            },
            {
              id: 'mono_D1_quotations',
              name: 'ã€D1ã€‘è¦‹ç©æ›¸ã¾ã¨ã‚ï¼ˆExcelç®¡ç†è¡¨ï¼‰',
              description: 'ç›¸è¦‹ç©ã‚‚ã‚Šæ¯”è¼ƒè¡¨ãƒ»ç™ºæ³¨äºˆå®šå…ˆãƒãƒ¼ã‚¯æ¸ˆã¿',
              fileType: 'excel',
              category: 'filled',
              size: '1.2MB'
            },
            {
              id: 'mono_checklist',
              name: 'ã‚‚ã®ã¥ãã‚Šè£œåŠ©é‡‘ ç”³è«‹å‰ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ',
              description: 'å…¨ã‚«ãƒ†ã‚´ãƒªAã€œGã®å¿…è¦æ›¸é¡ç¢ºèªç”¨',
              fileType: 'excel',
              category: 'reference',
              size: '856KB'
            },
            {
              id: 'mono_application_guide',
              name: 'ã‚‚ã®ã¥ãã‚Šè£œåŠ©é‡‘ å®Œå…¨ç”³è«‹ã‚¬ã‚¤ãƒ‰2025å¹´ç‰ˆ',
              description: 'å…¬å‹Ÿè¦é ˜ãƒ»è¨˜è¼‰ä¾‹ãƒ»å¯©æŸ»ãƒã‚¤ãƒ³ãƒˆè§£èª¬',
              fileType: 'pdf',
              category: 'reference',
              size: '5.8MB'
            }
          ];
          break;

        case 'jizokuka':
          documents = [
            {
              id: 'jizoku_application_form',
              name: 'æ§˜å¼1 ç”³è«‹æ›¸ï¼ˆå…¥åŠ›æ¸ˆã¿ï¼‰',
              description: 'åŸºæœ¬æƒ…å ±ãŒå…¥åŠ›ã•ã‚ŒãŸç”³è«‹æ›¸',
              fileType: 'word',
              category: 'filled',
              size: '756KB'
            },
            {
              id: 'jizoku_business_plan',
              name: 'æ§˜å¼2 çµŒå–¶è¨ˆç”»æ›¸ï¼ˆå…¥åŠ›æ¸ˆã¿ï¼‰',
              description: 'çµŒå–¶æ–¹é‡ã¨èª²é¡ŒãŒè¨˜è¼‰ã•ã‚ŒãŸè¨ˆç”»æ›¸',
              fileType: 'word',
              category: 'filled',
              size: '1.1MB'
            },
            {
              id: 'jizoku_project_plan',
              name: 'æ§˜å¼3 è£œåŠ©äº‹æ¥­è¨ˆç”»æ›¸ï¼ˆå…¥åŠ›æ¸ˆã¿ï¼‰',
              description: 'è²©è·¯é–‹æ‹“è¨ˆç”»ã®è©³ç´°',
              fileType: 'excel',
              category: 'filled',
              size: '1.3MB'
            },
            {
              id: 'jizoku_checklist',
              name: 'ç”³è«‹ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ',
              description: 'æå‡ºå‰ã®æœ€çµ‚ç¢ºèªç”¨',
              fileType: 'excel',
              category: 'reference',
              size: '423KB'
            },
            {
              id: 'jizoku_application_guide',
              name: 'æŒç¶šåŒ–è£œåŠ©é‡‘ç”³è«‹ã‚¬ã‚¤ãƒ‰',
              description: 'å°è¦æ¨¡äº‹æ¥­è€…å‘ã‘ç”³è«‹ãƒãƒ‹ãƒ¥ã‚¢ãƒ«',
              fileType: 'pdf',
              category: 'reference',
              size: '2.8MB'
            }
          ];
          break;

        default:
          documents = [];
      }

      // ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰URLã‚’ç”Ÿæˆ
      documents.forEach(doc => {
        doc.downloadUrl = `http://localhost:3001/api/excel-download/download/${doc.id}?subsidyType=${selectedSubsidy}&sessionId=${Date.now()}`;
      });

      setDownloadLinks(documents);
    };

    generateDownloadLinks();
  }, [selectedSubsidy]);

  const handleGenerateDocuments = async () => {
    setIsGenerating(true);
    try {
      // Excelç”ŸæˆAPIã‚’å‘¼ã³å‡ºã—
      const response = await fetch('http://localhost:3001/api/excel-download/complete-flow', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify({
          answers: formData,
          selectedSubsidy: selectedSubsidy
        })
      });

      if (response.ok) {
        const result = await response.json();
        console.log('Documents generated:', result);
        // æˆåŠŸæ™‚ã®å‡¦ç†
      }
    } catch (error) {
      console.error('Document generation failed:', error);
    } finally {
      setIsGenerating(false);
    }
  };

  const handleDownload = (doc: DocumentDownload) => {
    // ãƒ‡ãƒ¢ç”¨ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰å‡¦ç†
    const demoData = {
      filename: `${doc.name}.${doc.fileType === 'excel' ? 'xlsx' : doc.fileType === 'word' ? 'docx' : 'pdf'}`,
      content: generateDemoContent(doc),
      type: doc.fileType
    };

    // ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆ
    console.log('ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰é–‹å§‹:', demoData.filename);
    
    // å®Ÿéš›ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã®ä»£ã‚ã‚Šã«ã‚¢ãƒ©ãƒ¼ãƒˆã‚’è¡¨ç¤º
    alert(`ğŸ“¥ ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æº–å‚™å®Œäº†ï¼\n\nãƒ•ã‚¡ã‚¤ãƒ«å: ${demoData.filename}\nã‚µã‚¤ã‚º: ${doc.size || 'æº–å‚™ä¸­'}\n\nå®Ÿéš›ã®ç’°å¢ƒã§ã¯ã€ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã¾ã™ã€‚`);
  };

  const generateDemoContent = (doc: DocumentDownload) => {
    // ãƒ‡ãƒ¢ç”¨ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆ
    return {
      subsidyType: selectedSubsidy,
      documentId: doc.id,
      documentName: doc.name,
      formData: formData,
      generatedAt: new Date().toISOString()
    };
  };

  const getFileIcon = (fileType: string) => {
    switch (fileType) {
      case 'excel': return 'ğŸ“Š';
      case 'word': return 'ğŸ“';
      case 'pdf': return 'ğŸ“„';
      default: return 'ğŸ“';
    }
  };

  const getCategoryStyle = (category: string) => {
    switch (category) {
      case 'filled': return {
        background: 'linear-gradient(135deg, rgba(72, 187, 120, 0.1) 0%, rgba(52, 211, 153, 0.1) 100%)',
        color: '#22543d',
        border: '1px solid rgba(72, 187, 120, 0.2)'
      };
      case 'template': return {
        background: 'linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%)',
        color: '#2c5282',
        border: '1px solid rgba(102, 126, 234, 0.2)'
      };
      case 'reference': return {
        background: 'var(--bg-tertiary)',
        color: 'var(--text-secondary)',
        border: '1px solid var(--bg-tertiary)'
      };
      default: return {
        background: 'var(--bg-tertiary)',
        color: 'var(--text-secondary)',
        border: '1px solid var(--bg-tertiary)'
      };
    }
  };

  const subsidyNames = {
    'it-donyu': 'ITå°å…¥è£œåŠ©é‡‘2025',
    'monozukuri': 'ã‚‚ã®ã¥ãã‚Šè£œåŠ©é‡‘',
    'jizokuka': 'å°è¦æ¨¡äº‹æ¥­è€…æŒç¶šåŒ–è£œåŠ©é‡‘'
  };

  // è¿½åŠ ã§å¿…è¦ãªæ›¸é¡ã®æƒ…å ±
  const getAdditionalDocuments = (subsidyType: string) => {
    const commonDocs = [
      {
        name: 'ç™»è¨˜ç°¿è¬„æœ¬ï¼ˆå±¥æ­´äº‹é …å…¨éƒ¨è¨¼æ˜æ›¸ï¼‰',
        icon: 'ğŸ¢',
        description: 'æ³•äººã®å ´åˆã¯å¿…é ˆã€‚ç™ºè¡Œã‹ã‚‰3ãƒ¶æœˆä»¥å†…ã®ã‚‚ã®',
        location: 'æ³•å‹™å±€ï¼ˆã‚ªãƒ³ãƒ©ã‚¤ãƒ³ç”³è«‹å¯ï¼‰',
        note: 'ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ç”³è«‹ã®å ´åˆã¯ã€Œç™»è¨˜ã­ã£ã¨ã€ã‚’åˆ©ç”¨å¯èƒ½'
      },
      {
        name: 'ç´ç¨è¨¼æ˜æ›¸',
        icon: 'ğŸ§¾',
        description: 'ç›´è¿‘3æœŸåˆ†ã®æ³•äººç¨ãƒ»æ¶ˆè²»ç¨ãƒ»å›ºå®šè³‡ç”£ç¨ã®ç´ç¨è¨¼æ˜æ›¸',
        location: 'ç®¡è½„ç¨å‹™ç½²ã¾ãŸã¯å¸‚åŒºç”ºæ‘å½¹å ´',
        note: 'æœªç´ãŒã‚ã‚‹å ´åˆã¯ç”³è«‹ä¸å¯'
      },
      {
        name: 'æ±ºç®—æ›¸é¡',
        icon: 'ğŸ“Š',
        description: 'ç›´è¿‘2æœŸåˆ†ã®è²¡å‹™è«¸è¡¨ï¼ˆè²¡å‹™è«¸è¡¨ã€æç›Šè¨ˆç®—æ›¸ã€è£½é€ åŸä¾¡å ±å‘Šæ›¸ç­‰ï¼‰',
        location: 'è‡ªç¤¾ã§ä¿ç®¡',
        note: 'ç¨ç†å£«ã®æŠ¼å°ãŒå¿…è¦ãªå ´åˆã‚ã‚Š'
      }
    ];

    const subsidySpecificDocs: Record<string, any[]> = {
      'it-donyu': [
        ...commonDocs,
        {
          name: 'èº«åˆ†è¨¼æ˜æ›¸ï¼ˆé‹è»¢å…è¨±è¨¼ç­‰ï¼‰',
          icon: 'ğŸ†”',
          description: 'ä»£è¡¨è€…ã®æœ¬äººç¢ºèªæ›¸é¡',
          location: 'é‹è»¢å…è¨±è¨¼ã¯è­¦å¯Ÿç½²ã€ãƒã‚¤ãƒŠãƒ³ãƒãƒ¼ã‚«ãƒ¼ãƒ‰ã¯å¸‚åŒºç”ºæ‘å½¹å ´',
          note: 'æœ‰åŠ¹æœŸé™å†…ã®ã‚‚ã®'
        },
        {
          name: 'SECURITY ACTIONè‡ªå·±å®£è¨€',
          icon: 'ğŸ”',
          description: 'IPAã®SECURITY ACTIONã®å®£è¨€è¨¼æ˜',
          location: 'IPAã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã§ã‚ªãƒ³ãƒ©ã‚¤ãƒ³å®£è¨€',
          note: 'ç”³è«‹å‰ã«å¿…ãšå®£è¨€ãŒå¿…è¦'
        }
      ],
      'monozukuri': [
        ...commonDocs,
        {
          name: 'èªå®šçµŒå–¶é©æ–°ç­‰æ”¯æ´æ©Ÿé–¢ã«ã‚ˆã‚‹ç¢ºèªæ›¸',
          icon: 'ğŸ†',
          description: 'äº‹æ¥­è¨ˆç”»ã®ç¢ºèªæ›¸',
          location: 'èªå®šæ”¯æ´æ©Ÿé–¢ï¼ˆå•†å·¥ä¼šè­°æ‰€ã€é‡‘èæ©Ÿé–¢ç­‰ï¼‰',
          note: 'äº‹å‰ã«æ”¯æ´æ©Ÿé–¢ã¨ã®ç›¸è«‡ãŒå¿…è¦'
        },
        {
          name: 'å¾“æ¥­å“¡æ•°ã‚’è¨¼æ˜ã™ã‚‹æ›¸é¡',
          icon: 'ğŸ‘¥',
          description: 'é›‡ç”¨ä¿é™ºè¢«ä¿é™ºè€…è³‡æ ¼å–å¾—ç­‰ç¢ºèªé€šçŸ¥æ›¸ç­‰',
          location: 'ãƒãƒ­ãƒ¼ãƒ¯ãƒ¼ã‚¯ã¾ãŸã¯å¹´é‡‘äº‹å‹™æ‰€',
          note: 'ç›´è¿‘ã®ã‚‚ã®'
        }
      ],
      'jizokuka': [
        ...commonDocs,
        {
          name: 'å•†å·¥ä¼šè­°æ‰€ãƒ»å•†å·¥ä¼šã®ä¼šå“¡è¨¼æ˜',
          icon: 'ğŸ¤',
          description: 'ä¼šå“¡ã§ã‚ã‚‹ã“ã¨ã®è¨¼æ˜æ›¸',
          location: 'æ‰€å±ã™ã‚‹å•†å·¥ä¼šè­°æ‰€ãƒ»å•†å·¥ä¼š',
          note: 'éä¼šå“¡ã®å ´åˆã¯å…¥ä¼šãŒå¿…è¦'
        },
        {
          name: 'é–‹æ¥­å±Šæ§ãˆï¼ˆå€‹äººäº‹æ¥­ä¸»ã®å ´åˆï¼‰',
          icon: 'ğŸ“',
          description: 'ç¨å‹™ç½²ã«æå‡ºã—ãŸé–‹æ¥­å±Šã®æ§ãˆ',
          location: 'è‡ªç¤¾ã§ä¿ç®¡ï¼ˆç¨å‹™ç½²æå‡ºæ¸ˆã¿ï¼‰',
          note: 'é–‹æ¥­ã‹ã‚‰1å¹´æœªæº€ã®å ´åˆã¯é–‹æ¥­å±Šã§ä»£æ›¿å¯'
        }
      ]
    };

    return subsidySpecificDocs[subsidyType] || commonDocs;
  };

  // ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ç”³è«‹æƒ…å ±
  const getOnlineSubmissionInfo = (subsidyType: string) => {
    const info: Record<string, any> = {
      'it-donyu': {
        description: 'ITå°å…¥æ”¯æ´äº‹æ¥­è€…ã¨é€£æºã—ã¦ã€å°‚ç”¨ãƒãƒ¼ã‚¿ãƒ«ã‹ã‚‰ç”³è«‹ã—ã¾ã™ã€‚é›»å­ç”³è«‹ã«ã¯gBizIDãƒ—ãƒ©ã‚¤ãƒ ã®å–å¾—ãŒå¿…è¦ã§ã™ã€‚',
        url: 'https://www.it-hojo.jp/',
        buttonText: 'ITå°å…¥è£œåŠ©é‡‘ç”³è«‹ãƒãƒ¼ã‚¿ãƒ«ã¸'
      },
      'monozukuri': {
        description: 'é›»å­ç”³è«‹ã‚·ã‚¹ãƒ†ãƒ ã‚’åˆ©ç”¨ã—ã¦ç”³è«‹ã—ã¾ã™ã€‚GBizIDãƒ—ãƒ©ã‚¤ãƒ ã®å–å¾—ãŒå¿…è¦ã§ã™ã€‚',
        url: 'https://portal.monodukuri-hojo.jp/',
        buttonText: 'ã‚‚ã®ã¥ãã‚Šè£œåŠ©é‡‘é›»å­ç”³è«‹ã‚·ã‚¹ãƒ†ãƒ ã¸'
      },
      'jizokuka': {
        description: 'å•†å·¥ä¼šè­°æ‰€ãƒ»å•†å·¥ä¼šçµŒç”±ã§ã®ç”³è«‹ãŒåŸºæœ¬ã§ã™ãŒã€ä¸€éƒ¨é›»å­ç”³è«‹ã‚‚å¯èƒ½ã§ã™ã€‚',
        url: 'https://www.jizokukahojokin.info/',
        buttonText: 'æŒç¶šåŒ–è£œåŠ©é‡‘å…¬å¼ã‚µã‚¤ãƒˆã¸'
      }
    };
    return info[subsidyType] || info['it-donyu'];
  };

  // éƒµé€ç”³è«‹æƒ…å ±
  const getPostalSubmissionInfo = (subsidyType: string) => {
    const info: Record<string, string> = {
      'it-donyu': 'åŸå‰‡ã¨ã—ã¦é›»å­ç”³è«‹ã®ã¿ã€‚éƒµé€ç”³è«‹ã¯å—ã‘ä»˜ã‘ã¦ã„ã¾ã›ã‚“ã€‚',
      'monozukuri': 'ç´™åª’ä½“ã§ã®ç”³è«‹ã‚‚å¯èƒ½ã§ã™ãŒã€é›»å­ç”³è«‹ãŒæ¨å¥¨ã•ã‚Œã¦ã„ã¾ã™ã€‚è©³ç´°ã¯å…¬å‹Ÿè¦é ˜ã‚’ã”ç¢ºèªãã ã•ã„ã€‚',
      'jizokuka': 'æ‰€å±ã™ã‚‹å•†å·¥ä¼šè­°æ‰€ãƒ»å•†å·¥ä¼šã«ç”³è«‹æ›¸é¡ã‚’æå‡ºã—ã¦ãã ã•ã„ã€‚æå‡ºå…ˆã¯å„åœ°åŸŸã®å•†å·¥ä¼šè­°æ‰€ãƒ»å•†å·¥ä¼šã§ã™ã€‚'
    };
    return info[subsidyType] || 'è©³ç´°ã¯å„è£œåŠ©é‡‘ã®å…¬å‹Ÿè¦é ˜ã‚’ã”ç¢ºèªãã ã•ã„ã€‚';
  };

  // AIç”Ÿæˆæ›¸é¡ã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆ
  const generateDocumentPreviews = (subsidyType: string, formData: any) => {
    const companyName = formData?.companyName || formData?.company_name || 'è²´ç¤¾';
    const businessDescription = formData?.businessDescription || formData?.industry || 'äº‹æ¥­å†…å®¹';
    const employeeCount = formData?.employeeCount || formData?.employee_count || '10';
    const annualRevenue = formData?.annualRevenue || formData?.annual_revenue || '5000';
    
    switch (subsidyType) {
      case 'jizokuka':
        return [
          {
            type: 'business_plan',
            title: 'çµŒå–¶è¨ˆç”»æ›¸',
            description: 'ç¾çŠ¶åˆ†æã‹ã‚‰å°†æ¥ãƒ“ã‚¸ãƒ§ãƒ³ã¾ã§ã€AIãŒè²´ç¤¾ã®å¼·ã¿ã‚’æœ€å¤§é™ã«è¡¨ç¾ã—ãŸçµŒå–¶è¨ˆç”»',
            content: generateJizokukaBusinessPlan(formData)
          },
          {
            type: 'sales_plan',
            title: 'è²©è·¯é–‹æ‹“è¨ˆç”»æ›¸',
            description: 'å…·ä½“çš„ãªè²©å£²æˆ¦ç•¥ã¨å®Ÿç¾å¯èƒ½ãªå£²ä¸Šå¢—åŠ ãƒ—ãƒ©ãƒ³ã‚’AIãŒç­–å®š',
            content: generateJizokukaSalesPlan(formData)
          },
          {
            type: 'expected_effect',
            title: 'äº‹æ¥­åŠ¹æœèª¬æ˜æ›¸',
            description: 'è£œåŠ©é‡‘æ´»ç”¨ã«ã‚ˆã‚‹å®šé‡çš„ãƒ»å®šæ€§çš„åŠ¹æœã‚’AIãŒåˆ†æãƒ»äºˆæ¸¬',
            content: generateJizokukaExpectedEffect(formData)
          }
        ];
      case 'it-donyu':
        return [
          {
            type: 'it_implementation',
            title: 'ITå°å…¥è¨ˆç”»æ›¸',
            description: 'DXæ¨é€²ã«å‘ã‘ãŸå…·ä½“çš„ãªITæ´»ç”¨æˆ¦ç•¥ã¨ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—',
            content: generateITImplementationPlan(formData)
          },
          {
            type: 'productivity_plan',
            title: 'ç”Ÿç”£æ€§å‘ä¸Šè¨ˆç”»æ›¸',
            description: 'ITå°å…¥ã«ã‚ˆã‚‹æ¥­å‹™åŠ¹ç‡åŒ–ã¨ç”Ÿç”£æ€§å‘ä¸Šã®å®šé‡çš„åˆ†æ',
            content: generateProductivityPlan(formData)
          },
          {
            type: 'wage_increase',
            title: 'è³ƒé‡‘å¼•ä¸Šã’è¨ˆç”»æ›¸',
            description: 'ç”Ÿç”£æ€§å‘ä¸Šã«ä¼´ã†å¾“æ¥­å“¡ã¸ã®é‚„å…ƒè¨ˆç”»',
            content: generateWageIncreasePlan(formData)
          }
        ];
      case 'monozukuri':
        return [
          {
            type: 'technical_plan',
            title: 'æŠ€è¡“é–‹ç™ºè¨ˆç”»æ›¸',
            description: 'é©æ–°çš„ãªæŠ€è¡“é–‹ç™ºã¨å¸‚å ´ç«¶äº‰åŠ›å¼·åŒ–ã®è©³ç´°ãƒ—ãƒ©ãƒ³',
            content: generateMonozukuriTechnicalPlan(formData)
          },
          {
            type: 'market_strategy',
            title: 'å¸‚å ´æˆ¦ç•¥æ›¸',
            description: 'æ–°è£½å“ãƒ»ã‚µãƒ¼ãƒ“ã‚¹ã®å¸‚å ´åˆ†æã¨è²©å£²æˆ¦ç•¥',
            content: generateMonozukuriMarketStrategy(formData)
          },
          {
            type: 'investment_plan',
            title: 'è¨­å‚™æŠ•è³‡è¨ˆç”»æ›¸',
            description: 'å¿…è¦è¨­å‚™ã®è©³ç´°ã¨æŠ•è³‡åŠ¹æœã®åˆ†æ',
            content: generateMonozukuriInvestmentPlan(formData)
          }
        ];
      default:
        return [];
    }
  };

  // å°è¦æ¨¡äº‹æ¥­è€…æŒç¶šåŒ–è£œåŠ©é‡‘ - çµŒå–¶è¨ˆç”»æ›¸ç”Ÿæˆ
  const generateJizokukaBusinessPlan = (formData: any) => {
    const companyName = formData?.companyName || 'æ ªå¼ä¼šç¤¾ã€‡ã€‡';
    const businessDescription = formData?.businessDescription || 'å°å£²æ¥­';
    const employeeCount = formData?.employeeCount || '3';
    const establishYear = new Date().getFullYear() - 10; // ä»®ã®å‰µæ¥­å¹´
    
    return {
      sections: [
        {
          title: '1. ä¼æ¥­æ¦‚è¦',
          content: `${companyName}ã¯ã€${establishYear}å¹´ã®å‰µæ¥­ä»¥æ¥ã€åœ°åŸŸã«æ ¹ã–ã—ãŸ${businessDescription}ã¨ã—ã¦äº‹æ¥­ã‚’å±•é–‹ã—ã¦ã¾ã„ã‚Šã¾ã—ãŸã€‚ç¾åœ¨ã€å¾“æ¥­å“¡${employeeCount}åã®å°è¦æ¨¡äº‹æ¥­è€…ã¨ã—ã¦ã€åœ°åŸŸçµŒæ¸ˆã®æ´»æ€§åŒ–ã«è²¢çŒ®ã—ã¦ãŠã‚Šã¾ã™ã€‚`
        },
        {
          title: '2. çµŒå–¶æ–¹é‡',
          content: `å½“ç¤¾ã¯ã€Œé¡§å®¢ç¬¬ä¸€ä¸»ç¾©ã€ã‚’çµŒå–¶ç†å¿µã«æ²ã’ã€åœ°åŸŸã®ãŠå®¢æ§˜ã«æ„›ã•ã‚Œã‚‹ä¼æ¥­ã‚’ç›®æŒ‡ã—ã¦ã„ã¾ã™ã€‚å°è¦æ¨¡äº‹æ¥­è€…ã®å¼·ã¿ã§ã‚ã‚‹æ©Ÿå‹•åŠ›ã¨æŸ”è»Ÿæ€§ã‚’æ´»ã‹ã—ã€å¤§æ‰‹ä¼æ¥­ã§ã¯å¯¾å¿œã§ããªã„ãã‚ç´°ã‚„ã‹ãªã‚µãƒ¼ãƒ“ã‚¹ã‚’æä¾›ã™ã‚‹ã“ã¨ã§ã€å·®åˆ¥åŒ–ã‚’å›³ã£ã¦ãŠã‚Šã¾ã™ã€‚`
        },
        {
          title: '3. ç¾çŠ¶åˆ†æï¼ˆSWOTåˆ†æï¼‰',
          content: `ã€å¼·ã¿ï¼ˆStrengthsï¼‰ã€‘
ãƒ»åœ°åŸŸå¯†ç€å‹ã®äº‹æ¥­å±•é–‹ã«ã‚ˆã‚Šã€é¡§å®¢ã¨ã®ä¿¡é ¼é–¢ä¿‚ãŒæ§‹ç¯‰ã•ã‚Œã¦ã„ã‚‹
ãƒ»å°å›ã‚Šã®åˆ©ãçµŒå–¶ä½“åˆ¶ã«ã‚ˆã‚Šã€é¡§å®¢ãƒ‹ãƒ¼ã‚ºã¸ã®è¿…é€Ÿãªå¯¾å¿œãŒå¯èƒ½
ãƒ»çµŒé¨“è±Šå¯Œãªå¾“æ¥­å“¡ã«ã‚ˆã‚‹é«˜å“è³ªãªã‚µãƒ¼ãƒ“ã‚¹æä¾›

ã€å¼±ã¿ï¼ˆWeaknessesï¼‰ã€‘
ãƒ»è²©å£²ãƒãƒ£ãƒãƒ«ãŒé™å®šçš„ã§ã€æ–°è¦é¡§å®¢é–‹æ‹“ãŒèª²é¡Œ
ãƒ»ãƒ‡ã‚¸ã‚¿ãƒ«åŒ–ã®é…ã‚Œã«ã‚ˆã‚Šã€æ¥­å‹™åŠ¹ç‡ã«æ”¹å–„ã®ä½™åœ°ãŒã‚ã‚‹
ãƒ»ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°æ´»å‹•ãŒä¸ååˆ†ã§ã€èªçŸ¥åº¦å‘ä¸ŠãŒå¿…è¦

ã€æ©Ÿä¼šï¼ˆOpportunitiesï¼‰ã€‘
ãƒ»åœ°åŸŸã®ãƒ‡ã‚¸ã‚¿ãƒ«åŒ–æ¨é€²ã«ã‚ˆã‚Šã€æ–°ãŸãªé¡§å®¢å±¤ã®é–‹æ‹“ãŒå¯èƒ½
ãƒ»ã‚³ãƒ­ãƒŠç¦ã‚’çµŒã¦ã€åœ°å…ƒå¿—å‘ã®æ¶ˆè²»è€…ãŒå¢—åŠ 
ãƒ»è¡Œæ”¿ã«ã‚ˆã‚‹å°è¦æ¨¡äº‹æ¥­è€…æ”¯æ´ç­–ã®å……å®Ÿ

ã€è„…å¨ï¼ˆThreatsï¼‰ã€‘
ãƒ»å¤§æ‰‹ä¼æ¥­ã®åœ°åŸŸé€²å‡ºã«ã‚ˆã‚‹ç«¶äº‰æ¿€åŒ–
ãƒ»äººå£æ¸›å°‘ã«ã‚ˆã‚‹åœ°åŸŸå¸‚å ´ã®ç¸®å°
ãƒ»åŸææ–™ä¾¡æ ¼ã®é«˜é¨°ã«ã‚ˆã‚‹åç›Šåœ§è¿«`
        },
        {
          title: '4. çµŒå–¶èª²é¡Œ',
          content: `å½“ç¤¾ãŒç›´é¢ã™ã‚‹ä¸»è¦ãªçµŒå–¶èª²é¡Œã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ï¼š

1. è²©è·¯æ‹¡å¤§ã®å¿…è¦æ€§
ç¾åœ¨ã®å£²ä¸Šã¯æ—¢å­˜é¡§å®¢ã«ä¾å­˜ã—ã¦ãŠã‚Šã€æ–°è¦é¡§å®¢é–‹æ‹“ãŒæ€¥å‹™ã¨ãªã£ã¦ã„ã¾ã™ã€‚

2. æ¥­å‹™åŠ¹ç‡åŒ–ã®æ¨é€²
æ‰‹ä½œæ¥­ã«ã‚ˆã‚‹æ¥­å‹™å‡¦ç†ãŒå¤šãã€ç”Ÿç”£æ€§å‘ä¸Šã®ä½™åœ°ãŒå¤§ãã„ã§ã™ã€‚

3. æƒ…å ±ç™ºä¿¡åŠ›ã®å¼·åŒ–
SNSã‚„ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã‚’æ´»ç”¨ã—ãŸæƒ…å ±ç™ºä¿¡ãŒä¸ååˆ†ã§ã€æ½œåœ¨é¡§å®¢ã¸ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒãŒé™å®šçš„ã§ã™ã€‚`
        },
        {
          title: '5. ä»Šå¾Œã®çµŒå–¶æˆ¦ç•¥',
          content: `ä¸Šè¨˜ã®èª²é¡Œã‚’è§£æ±ºã—ã€æŒç¶šçš„ãªæˆé•·ã‚’å®Ÿç¾ã™ã‚‹ãŸã‚ã€ä»¥ä¸‹ã®æˆ¦ç•¥ã‚’å®Ÿè¡Œã—ã¾ã™ï¼š

ã€çŸ­æœŸæˆ¦ç•¥ï¼ˆ1å¹´ä»¥å†…ï¼‰ã€‘
ãƒ»è£œåŠ©é‡‘ã‚’æ´»ç”¨ã—ãŸè²©è·¯é–‹æ‹“äº‹æ¥­ã®å®Ÿæ–½
ãƒ»ãƒ‡ã‚¸ã‚¿ãƒ«ãƒ„ãƒ¼ãƒ«ã®å°å…¥ã«ã‚ˆã‚‹æ¥­å‹™åŠ¹ç‡åŒ–
ãƒ»SNSã‚’æ´»ç”¨ã—ãŸæƒ…å ±ç™ºä¿¡ã®é–‹å§‹

ã€ä¸­æœŸæˆ¦ç•¥ï¼ˆ3å¹´ä»¥å†…ï¼‰ã€‘
ãƒ»ã‚ªãƒ³ãƒ©ã‚¤ãƒ³è²©å£²ãƒãƒ£ãƒãƒ«ã®ç¢ºç«‹
ãƒ»æ–°å•†å“ãƒ»ã‚µãƒ¼ãƒ“ã‚¹ã®é–‹ç™º
ãƒ»åœ°åŸŸé€£æºã«ã‚ˆã‚‹å…±åŒäº‹æ¥­ã®æ¨é€²

ã€é•·æœŸæˆ¦ç•¥ï¼ˆ5å¹´ä»¥å†…ï¼‰ã€‘
ãƒ»äº‹æ¥­æ‰¿ç¶™ã‚’è¦‹æ®ãˆãŸçµ„ç¹”ä½“åˆ¶ã®æ•´å‚™
ãƒ»åœ°åŸŸã®ãƒªãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚«ãƒ³ãƒ‘ãƒ‹ãƒ¼ã¨ã—ã¦ã®åœ°ä½ç¢ºç«‹
ãƒ»æŒç¶šå¯èƒ½ãªçµŒå–¶ãƒ¢ãƒ‡ãƒ«ã®æ§‹ç¯‰`
        }
      ]
    };
  };

  // å°è¦æ¨¡äº‹æ¥­è€…æŒç¶šåŒ–è£œåŠ©é‡‘ - è²©è·¯é–‹æ‹“è¨ˆç”»æ›¸ç”Ÿæˆ
  const generateJizokukaSalesPlan = (formData: any) => {
    const targetCustomer = formData?.targetCustomer || 'åœ°åŸŸã®å€‹äººé¡§å®¢';
    const salesChannelPlan = formData?.salesChannelPlan || 'SNSãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°ã¨ECã‚µã‚¤ãƒˆæ§‹ç¯‰';
    
    return {
      sections: [
        {
          title: '1. è²©è·¯é–‹æ‹“ã®ç›®çš„',
          content: `æœ¬äº‹æ¥­ã§ã¯ã€${targetCustomer}ã‚’ãƒ¡ã‚¤ãƒ³ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã¨ã—ã¦ã€${salesChannelPlan}ã‚’é€šã˜ãŸæ–°è¦é¡§å®¢ç²å¾—ã‚’ç›®æŒ‡ã—ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€å£²ä¸Šã®å®‰å®šåŒ–ã¨äº‹æ¥­ã®æŒç¶šçš„ç™ºå±•ã‚’å›³ã‚Šã¾ã™ã€‚`
        },
        {
          title: '2. ã‚¿ãƒ¼ã‚²ãƒƒãƒˆå¸‚å ´åˆ†æ',
          content: `ã€ã‚¿ãƒ¼ã‚²ãƒƒãƒˆé¡§å®¢å±¤ã€‘
ãƒ»ä¸»è¦ã‚¿ãƒ¼ã‚²ãƒƒãƒˆï¼š${targetCustomer}
ãƒ»å¹´é½¢å±¤ï¼š30ã€œ50ä»£ã‚’ä¸­å¿ƒã¨ã—ãŸè³¼è²·åŠ›ã®ã‚ã‚‹å±¤
ãƒ»åœ°åŸŸï¼šäº‹æ¥­æ‰€ã‹ã‚‰åŠå¾„10kmåœå†…
ãƒ»ãƒ‹ãƒ¼ã‚ºï¼šå“è³ªé‡è¦–ã€åœ°å…ƒä¼æ¥­ã¸ã®æ„›ç€ã€åˆ©ä¾¿æ€§

ã€å¸‚å ´è¦æ¨¡ã¨æˆé•·æ€§ã€‘
ãƒ»æ¨å®šå¸‚å ´è¦æ¨¡ï¼šå¹´é–“ç´„5,000ä¸‡å††
ãƒ»æˆé•·ç‡ï¼šå¹´ç‡3ã€œ5%ï¼ˆåœ°åŸŸã®ãƒ‡ã‚¸ã‚¿ãƒ«åŒ–é€²å±•ã«ã‚ˆã‚Šï¼‰
ãƒ»å½“ç¤¾ã‚·ã‚§ã‚¢ç›®æ¨™ï¼šç¾åœ¨ã®5%ã‹ã‚‰10%ã¸æ‹¡å¤§`
        },
        {
          title: '3. å…·ä½“çš„ãªè²©è·¯é–‹æ‹“æ–½ç­–',
          content: `ã€æ–½ç­–1ï¼šãƒ‡ã‚¸ã‚¿ãƒ«ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°ã®å¼·åŒ–ã€‘
ãƒ»è‡ªç¤¾ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã®ãƒªãƒ‹ãƒ¥ãƒ¼ã‚¢ãƒ«ï¼ˆã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³å¯¾å¿œï¼‰
ãƒ»SNSï¼ˆInstagramã€Facebookï¼‰ã§ã®å®šæœŸçš„ãªæƒ…å ±ç™ºä¿¡
ãƒ»Google My Businessã‚’æ´»ç”¨ã—ãŸåœ°åŸŸæ¤œç´¢å¯¾ç­–
ãƒ»å®Ÿæ–½æœŸé–“ï¼šè£œåŠ©äº‹æ¥­æ¡æŠå¾Œ3ãƒ¶æœˆä»¥å†…
ãƒ»æŠ•è³‡é¡ï¼š50ä¸‡å††

ã€æ–½ç­–2ï¼šECã‚µã‚¤ãƒˆã®æ§‹ç¯‰ã€‘
ãƒ»ä½¿ã„ã‚„ã™ã„ECãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã®å°å…¥
ãƒ»æ±ºæ¸ˆã‚·ã‚¹ãƒ†ãƒ ã®å¤šæ§˜åŒ–ï¼ˆã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰ã€é›»å­ãƒãƒãƒ¼å¯¾å¿œï¼‰
ãƒ»é…é€ä½“åˆ¶ã®æ•´å‚™
ãƒ»å®Ÿæ–½æœŸé–“ï¼šè£œåŠ©äº‹æ¥­æ¡æŠå¾Œ6ãƒ¶æœˆä»¥å†…
ãƒ»æŠ•è³‡é¡ï¼š80ä¸‡å††

ã€æ–½ç­–3ï¼šåœ°åŸŸé€£æºã«ã‚ˆã‚‹å…±åŒè²©ä¿ƒã€‘
ãƒ»åœ°åŸŸã®ä»–äº‹æ¥­è€…ã¨ã®å…±åŒã‚¤ãƒ™ãƒ³ãƒˆé–‹å‚¬
ãƒ»ç›¸äº’é€å®¢ã‚·ã‚¹ãƒ†ãƒ ã®æ§‹ç¯‰
ãƒ»åœ°åŸŸãƒã‚¤ãƒ³ãƒˆã‚«ãƒ¼ãƒ‰ã¸ã®å‚åŠ 
ãƒ»å®Ÿæ–½æœŸé–“ï¼šè£œåŠ©äº‹æ¥­æ¡æŠå¾Œ4ãƒ¶æœˆä»¥å†…
ãƒ»æŠ•è³‡é¡ï¼š20ä¸‡å††`
        },
        {
          title: '4. å®Ÿæ–½ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«',
          content: `ã€ç¬¬1å››åŠæœŸã€‘
ãƒ»ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆãƒªãƒ‹ãƒ¥ãƒ¼ã‚¢ãƒ«ã®ä¼ç”»ãƒ»è¨­è¨ˆ
ãƒ»SNSã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®é–‹è¨­ã¨é‹ç”¨é–‹å§‹
ãƒ»ECã‚µã‚¤ãƒˆæ§‹ç¯‰æ¥­è€…ã®é¸å®š

ã€ç¬¬2å››åŠæœŸã€‘
ãƒ»ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã®å…¬é–‹
ãƒ»ECã‚µã‚¤ãƒˆã®æ§‹ç¯‰ãƒ»ãƒ†ã‚¹ãƒˆé‹ç”¨
ãƒ»åœ°åŸŸé€£æºãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ã¨ã®å”è­°

ã€ç¬¬3å››åŠæœŸã€‘
ãƒ»ECã‚µã‚¤ãƒˆã®æœ¬æ ¼é‹ç”¨é–‹å§‹
ãƒ»å…±åŒè²©ä¿ƒã‚¤ãƒ™ãƒ³ãƒˆã®å®Ÿæ–½
ãƒ»ä¸­é–“è©•ä¾¡ã¨æ”¹å–„ç‚¹ã®æ´—ã„å‡ºã—

ã€ç¬¬4å››åŠæœŸã€‘
ãƒ»å¹´é–“æˆæœã®è©•ä¾¡
ãƒ»æ¬¡å¹´åº¦è¨ˆç”»ã®ç­–å®š
ãƒ»ç¶™ç¶šçš„ãªæ”¹å–„æ´»å‹•`
        },
        {
          title: '5. æœŸå¾…ã•ã‚Œã‚‹æˆæœ',
          content: `ã€å®šé‡çš„æˆæœã€‘
ãƒ»æ–°è¦é¡§å®¢ç²å¾—æ•°ï¼šå¹´é–“100åï¼ˆå‰å¹´æ¯”200%å¢—ï¼‰
ãƒ»å£²ä¸Šé«˜ï¼šå‰å¹´æ¯”30%å¢—ï¼ˆ1,500ä¸‡å††â†’1,950ä¸‡å††ï¼‰
ãƒ»ECã‚µã‚¤ãƒˆå£²ä¸Šæ¯”ç‡ï¼šå…¨ä½“ã®15%
ãƒ»SNSãƒ•ã‚©ãƒ­ãƒ¯ãƒ¼æ•°ï¼š1,000å

ã€å®šæ€§çš„æˆæœã€‘
ãƒ»ãƒ–ãƒ©ãƒ³ãƒ‰èªçŸ¥åº¦ã®å‘ä¸Š
ãƒ»é¡§å®¢æº€è¶³åº¦ã®å‘ä¸Šï¼ˆãƒªãƒ”ãƒ¼ãƒˆç‡20%å‘ä¸Šï¼‰
ãƒ»å¾“æ¥­å“¡ã®ãƒ‡ã‚¸ã‚¿ãƒ«ã‚¹ã‚­ãƒ«å‘ä¸Š
ãƒ»åœ°åŸŸã«ãŠã‘ã‚‹ä¼æ¥­ã‚¤ãƒ¡ãƒ¼ã‚¸ã®å‘ä¸Š`
        }
      ]
    };
  };

  // å°è¦æ¨¡äº‹æ¥­è€…æŒç¶šåŒ–è£œåŠ©é‡‘ - äº‹æ¥­åŠ¹æœèª¬æ˜æ›¸ç”Ÿæˆ
  const generateJizokukaExpectedEffect = (formData: any) => {
    const expectedSalesIncrease = formData?.expectedSalesIncrease || '30';
    const totalBudget = formData?.totalBudget || '2000000';
    
    return {
      sections: [
        {
          title: '1. è£œåŠ©äº‹æ¥­ã®æŠ•è³‡å¯¾åŠ¹æœ',
          content: `æœ¬è£œåŠ©äº‹æ¥­ã¸ã®ç·æŠ•è³‡é¡${parseInt(totalBudget).toLocaleString()}å††ã«å¯¾ã—ã€å£²ä¸Šé«˜${expectedSalesIncrease}%å¢—åŠ ã‚’è¦‹è¾¼ã‚“ã§ãŠã‚Šã¾ã™ã€‚æŠ•è³‡å›åæœŸé–“ã¯ç´„2å¹´ã‚’æƒ³å®šã—ã¦ãŠã‚Šã€ãã®å¾Œã¯ç¶™ç¶šçš„ãªåç›Šå‘ä¸ŠãŒæœŸå¾…ã§ãã¾ã™ã€‚`
        },
        {
          title: '2. å£²ä¸Šãƒ»åˆ©ç›Šã¸ã®å½±éŸ¿',
          content: `ã€å£²ä¸Šé«˜ã¸ã®å½±éŸ¿ã€‘
ãƒ»ç¾åœ¨ã®å¹´é–“å£²ä¸Šé«˜ï¼š1,500ä¸‡å††
ãƒ»è£œåŠ©äº‹æ¥­å®Ÿæ–½å¾Œã®å£²ä¸Šé«˜ï¼š1,950ä¸‡å††ï¼ˆ30%å¢—ï¼‰
ãƒ»å¢—åŠ é¡ï¼š450ä¸‡å††

ã€åˆ©ç›Šã¸ã®å½±éŸ¿ã€‘
ãƒ»å£²ä¸Šç·åˆ©ç›Šç‡ï¼š40%
ãƒ»å£²ä¸Šå¢—åŠ ã«ã‚ˆã‚‹åˆ©ç›Šå¢—åŠ ï¼š180ä¸‡å††
ãƒ»çµŒè²»å¢—åŠ åˆ†ï¼š50ä¸‡å††
ãƒ»ç´”åˆ©ç›Šå¢—åŠ ï¼š130ä¸‡å††

ã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ•ãƒ­ãƒ¼ã¸ã®å½±éŸ¿ã€‘
ãƒ»åˆå¹´åº¦ï¼šæŠ•è³‡ã«ã‚ˆã‚Šä¸€æ™‚çš„ã«ãƒã‚¤ãƒŠã‚¹
ãƒ»2å¹´ç›®ä»¥é™ï¼šå¹´é–“130ä¸‡å††ã®ãƒ—ãƒ©ã‚¹
ãƒ»5å¹´é–“ç´¯è¨ˆï¼š500ä¸‡å††ä»¥ä¸Šã®ãƒ—ãƒ©ã‚¹åŠ¹æœ`
        },
        {
          title: '3. åœ°åŸŸçµŒæ¸ˆã¸ã®æ³¢åŠåŠ¹æœ',
          content: `ã€é›‡ç”¨å‰µå‡ºåŠ¹æœã€‘
ãƒ»ãƒ‘ãƒ¼ãƒˆã‚¿ã‚¤ãƒ å¾“æ¥­å“¡1åã®æ–°è¦é›‡ç”¨
ãƒ»æ—¢å­˜å¾“æ¥­å“¡ã®åŠ´åƒæ™‚é–“é©æ­£åŒ–ã«ã‚ˆã‚‹é›‡ç”¨ã®è³ªå‘ä¸Š
ãƒ»åœ°åŸŸã®é›‡ç”¨æ©Ÿä¼šå‰µå‡ºã¸ã®è²¢çŒ®

ã€åœ°åŸŸå†…å–å¼•ã®æ´»æ€§åŒ–ã€‘
ãƒ»åœ°å…ƒæ¥­è€…ã¸ã®ç™ºæ³¨å¢—åŠ ï¼ˆå¹´é–“50ä¸‡å††å¢—ï¼‰
ãƒ»åœ°åŸŸå†…ã§ã®è³‡é‡‘å¾ªç’°ä¿ƒé€²
ãƒ»é–¢é€£äº‹æ¥­è€…ã¸ã®æ³¢åŠåŠ¹æœ

ã€åœ°åŸŸãƒ–ãƒ©ãƒ³ãƒ‰å‘ä¸Šã¸ã®è²¢çŒ®ã€‘
ãƒ»åœ°åŸŸç‰¹ç”£å“ã®è²©å£²ä¿ƒé€²
ãƒ»è¦³å…‰å®¢ã¸ã®æƒ…å ±ç™ºä¿¡å¼·åŒ–
ãƒ»åœ°åŸŸã‚¤ãƒ¡ãƒ¼ã‚¸ã®å‘ä¸Š`
        },
        {
          title: '4. ç¤¾ä¼šçš„åŠ¹æœ',
          content: `ã€ãƒ‡ã‚¸ã‚¿ãƒ«ãƒ‡ãƒã‚¤ãƒ‰è§£æ¶ˆã¸ã®è²¢çŒ®ã€‘
ãƒ»é«˜é½¢è€…å‘ã‘ã®ECã‚µã‚¤ãƒˆåˆ©ç”¨æ”¯æ´
ãƒ»ãƒ‡ã‚¸ã‚¿ãƒ«æ´»ç”¨ã«ã‚ˆã‚‹è²·ã„ç‰©å¼±è€…æ”¯æ´
ãƒ»åœ°åŸŸã®ITæ´»ç”¨ä¿ƒé€²

ã€ç’°å¢ƒè² è·è»½æ¸›ã€‘
ãƒ»ãƒšãƒ¼ãƒ‘ãƒ¼ãƒ¬ã‚¹åŒ–ã«ã‚ˆã‚‹ç´™ä½¿ç”¨é‡å‰Šæ¸›ï¼ˆå¹´é–“30%æ¸›ï¼‰
ãƒ»åŠ¹ç‡çš„ãªé…é€ã«ã‚ˆã‚‹ CO2æ’å‡ºé‡å‰Šæ¸›
ãƒ»ã‚¨ã‚³åŒ…è£…ã®å°å…¥

ã€åƒãæ–¹æ”¹é©ã¸ã®å¯„ä¸ã€‘
ãƒ»æ¥­å‹™åŠ¹ç‡åŒ–ã«ã‚ˆã‚‹æ®‹æ¥­æ™‚é–“å‰Šæ¸›ï¼ˆæœˆå¹³å‡10æ™‚é–“æ¸›ï¼‰
ãƒ»ãƒ†ãƒ¬ãƒ¯ãƒ¼ã‚¯å¯¾å¿œã«ã‚ˆã‚‹æŸ”è»Ÿãªåƒãæ–¹å®Ÿç¾
ãƒ»å¾“æ¥­å“¡æº€è¶³åº¦ã®å‘ä¸Š`
        },
        {
          title: '5. æŒç¶šå¯èƒ½æ€§ã®ç¢ºä¿',
          content: `ã€äº‹æ¥­ã®ç¶™ç¶šæ€§ã€‘
ãƒ»è£œåŠ©äº‹æ¥­ã§æ§‹ç¯‰ã—ãŸã‚·ã‚¹ãƒ†ãƒ ã®è‡ªç«‹é‹å–¶
ãƒ»ç¶™ç¶šçš„ãªæ”¹å–„ã‚µã‚¤ã‚¯ãƒ«ã®ç¢ºç«‹
ãƒ»æ¬¡ä¸–ä»£ã¸ã®äº‹æ¥­æ‰¿ç¶™æº–å‚™

ã€è²¡å‹™çš„æŒç¶šæ€§ã€‘
ãƒ»å£²ä¸Šå¢—åŠ ã«ã‚ˆã‚‹è²¡å‹™åŸºç›¤å¼·åŒ–
ãƒ»æŠ•è³‡å›åå¾Œã®å†æŠ•è³‡ã‚µã‚¤ã‚¯ãƒ«ç¢ºç«‹
ãƒ»ãƒªã‚¹ã‚¯åˆ†æ•£ã«ã‚ˆã‚‹çµŒå–¶å®‰å®šåŒ–

ã€äººæè‚²æˆåŠ¹æœã€‘
ãƒ»ãƒ‡ã‚¸ã‚¿ãƒ«ã‚¹ã‚­ãƒ«ã‚’æŒã¤äººæã®è‚²æˆ
ãƒ»è‹¥æ‰‹å¾“æ¥­å“¡ã®ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³å‘ä¸Š
ãƒ»çµ„ç¹”å…¨ä½“ã®ç”Ÿç”£æ€§å‘ä¸Š`
        }
      ]
    };
  };

  // ITå°å…¥è£œåŠ©é‡‘ - ITå°å…¥è¨ˆç”»æ›¸ç”Ÿæˆ
  const generateITImplementationPlan = (formData: any) => {
    const itToolName = formData?.itToolName || 'ã‚¯ãƒ©ã‚¦ãƒ‰å‹æ¥­å‹™ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ';
    const itToolPurpose = formData?.itToolPurpose || 'æ¥­å‹™åŠ¹ç‡åŒ–ã¨é¡§å®¢ç®¡ç†ã®å¼·åŒ–';
    
    return {
      sections: [
        {
          title: '1. ITå°å…¥ã®èƒŒæ™¯ã¨ç›®çš„',
          content: `å½“ç¤¾ã§ã¯ã€${itToolPurpose}ã‚’ç›®çš„ã¨ã—ã¦ã€${itToolName}ã®å°å…¥ã‚’è¨ˆç”»ã—ã¦ã„ã¾ã™ã€‚ç¾åœ¨ã€æ¥­å‹™ã®å¤šããŒæ‰‹ä½œæ¥­ã‚„Excelã§ã®ç®¡ç†ã«ä¾å­˜ã—ã¦ãŠã‚Šã€æ¥­å‹™åŠ¹ç‡ã®ä½ä¸‹ã‚„äººçš„ãƒŸã‚¹ã®ãƒªã‚¹ã‚¯ãŒèª²é¡Œã¨ãªã£ã¦ã„ã¾ã™ã€‚æœ¬ITå°å…¥ã«ã‚ˆã‚Šã€ã“ã‚Œã‚‰ã®èª²é¡Œã‚’è§£æ±ºã—ã€ç”Ÿç”£æ€§ã®å¤§å¹…ãªå‘ä¸Šã‚’å®Ÿç¾ã—ã¾ã™ã€‚`
        },
        {
          title: '2. å°å…¥ã™ã‚‹ITãƒ„ãƒ¼ãƒ«ã®è©³ç´°',
          content: `ã€ãƒ„ãƒ¼ãƒ«åã€‘${itToolName}

ã€ä¸»è¦æ©Ÿèƒ½ã€‘
ãƒ»é¡§å®¢æƒ…å ±ã®ä¸€å…ƒç®¡ç†
ãƒ»è¦‹ç©æ›¸ãƒ»è«‹æ±‚æ›¸ã®è‡ªå‹•ä½œæˆ
ãƒ»åœ¨åº«ç®¡ç†ã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åŒ–
ãƒ»å£²ä¸Šåˆ†æãƒ»ãƒ¬ãƒãƒ¼ãƒˆæ©Ÿèƒ½
ãƒ»ãƒ¢ãƒã‚¤ãƒ«å¯¾å¿œã«ã‚ˆã‚‹å¤–å‡ºå…ˆã§ã®æ¥­å‹™å¯¾å¿œ

ã€é¸å®šç†ç”±ã€‘
ãƒ»ä¸­å°ä¼æ¥­å‘ã‘ã«æœ€é©åŒ–ã•ã‚ŒãŸæ©Ÿèƒ½
ãƒ»å°å…¥å®Ÿç¸¾ãŒè±Šå¯Œã§ä¿¡é ¼æ€§ãŒé«˜ã„
ãƒ»ã‚µãƒãƒ¼ãƒˆä½“åˆ¶ãŒå……å®Ÿ
ãƒ»è²»ç”¨å¯¾åŠ¹æœãŒé«˜ã„
ãƒ»æ—¢å­˜ã‚·ã‚¹ãƒ†ãƒ ã¨ã®é€£æºãŒå®¹æ˜“`
        },
        {
          title: '3. å°å…¥è¨ˆç”»ã¨ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«',
          content: `ã€ãƒ•ã‚§ãƒ¼ã‚º1ï¼šæº–å‚™æœŸé–“ï¼ˆ1ã€œ2ãƒ¶æœˆç›®ï¼‰ã€‘
ãƒ»ç¾çŠ¶æ¥­å‹™ãƒ•ãƒ­ãƒ¼ã®è©³ç´°åˆ†æ
ãƒ»è¦ä»¶å®šç¾©ã®ç¢ºå®š
ãƒ»ãƒ‡ãƒ¼ã‚¿ç§»è¡Œè¨ˆç”»ã®ç­–å®š
ãƒ»ç¤¾å†…ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒãƒ¼ãƒ ã®ç·¨æˆ

ã€ãƒ•ã‚§ãƒ¼ã‚º2ï¼šå°å…¥æœŸé–“ï¼ˆ3ã€œ4ãƒ¶æœˆç›®ï¼‰ã€‘
ãƒ»ã‚·ã‚¹ãƒ†ãƒ ã®åˆæœŸè¨­å®š
ãƒ»ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿ã®ç™»éŒ²
ãƒ»æ—¢å­˜ãƒ‡ãƒ¼ã‚¿ã®ç§»è¡Œä½œæ¥­
ãƒ»ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºè¨­å®š

ã€ãƒ•ã‚§ãƒ¼ã‚º3ï¼šãƒ†ã‚¹ãƒˆé‹ç”¨ï¼ˆ5ãƒ¶æœˆç›®ï¼‰ã€‘
ãƒ»ä¸¦è¡Œé‹ç”¨ã«ã‚ˆã‚‹ãƒ†ã‚¹ãƒˆ
ãƒ»ä¸å…·åˆã®æ´—ã„å‡ºã—ã¨ä¿®æ­£
ãƒ»é‹ç”¨ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ã®ä½œæˆ
ãƒ»å¾“æ¥­å“¡å‘ã‘ç ”ä¿®ã®å®Ÿæ–½

ã€ãƒ•ã‚§ãƒ¼ã‚º4ï¼šæœ¬æ ¼é‹ç”¨ï¼ˆ6ãƒ¶æœˆç›®ã€œï¼‰ã€‘
ãƒ»å…¨é¢çš„ãªæœ¬ç•ªé‹ç”¨é–‹å§‹
ãƒ»å®šæœŸçš„ãªåŠ¹æœæ¸¬å®š
ãƒ»ç¶™ç¶šçš„ãªæ”¹å–„æ´»å‹•
ãƒ»è¿½åŠ æ©Ÿèƒ½ã®æ¤œè¨`
        },
        {
          title: '4. æœŸå¾…ã•ã‚Œã‚‹åŠ¹æœ',
          content: `ã€æ¥­å‹™åŠ¹ç‡åŒ–ã€‘
ãƒ»äº‹å‹™ä½œæ¥­æ™‚é–“ï¼š50%å‰Šæ¸›ï¼ˆæœˆ160æ™‚é–“â†’80æ™‚é–“ï¼‰
ãƒ»æ›¸é¡ä½œæˆæ™‚é–“ï¼š70%å‰Šæ¸›
ãƒ»ãƒ‡ãƒ¼ã‚¿å…¥åŠ›ãƒŸã‚¹ï¼š90%å‰Šæ¸›

ã€å£²ä¸Šãƒ»åˆ©ç›Šå‘ä¸Šã€‘
ãƒ»é¡§å®¢å¯¾å¿œæ™‚é–“ã®å¢—åŠ ã«ã‚ˆã‚‹å£²ä¸Š10%å‘ä¸Š
ãƒ»æ¥­å‹™åŠ¹ç‡åŒ–ã«ã‚ˆã‚‹äººä»¶è²»å‰Šæ¸›ï¼šå¹´é–“100ä¸‡å††
ãƒ»ãƒšãƒ¼ãƒ‘ãƒ¼ãƒ¬ã‚¹åŒ–ã«ã‚ˆã‚‹çµŒè²»å‰Šæ¸›ï¼šå¹´é–“20ä¸‡å††

ã€é¡§å®¢æº€è¶³åº¦å‘ä¸Šã€‘
ãƒ»ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚¿ã‚¤ãƒ ã®çŸ­ç¸®ï¼ˆå¹³å‡2æ—¥â†’å³æ—¥ï¼‰
ãƒ»æ­£ç¢ºãªåœ¨åº«æƒ…å ±ã«ã‚ˆã‚‹æ¬ å“ç‡ä½ä¸‹
ãƒ»ãã‚ç´°ã‚„ã‹ãªé¡§å®¢ãƒ•ã‚©ãƒ­ãƒ¼ã®å®Ÿç¾`
        },
        {
          title: '5. æŠ•è³‡è¨ˆç”»ã¨è²»ç”¨å¯¾åŠ¹æœ',
          content: `ã€åˆæœŸæŠ•è³‡ã€‘
ãƒ»ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ï¼š100ä¸‡å††
ãƒ»å°å…¥æ”¯æ´ãƒ»ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºï¼š50ä¸‡å††
ãƒ»ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ï¼ˆã‚¿ãƒ–ãƒ¬ãƒƒãƒˆç­‰ï¼‰ï¼š30ä¸‡å††
ãƒ»ç ”ä¿®è²»ç”¨ï¼š20ä¸‡å††
åˆè¨ˆï¼š200ä¸‡å††

ã€ãƒ©ãƒ³ãƒ‹ãƒ³ã‚°ã‚³ã‚¹ãƒˆã€‘
ãƒ»æœˆé¡åˆ©ç”¨æ–™ï¼š5ä¸‡å††
ãƒ»å¹´é–“ä¿å®ˆè²»ç”¨ï¼š60ä¸‡å††

ã€ROIï¼ˆæŠ•è³‡åç›Šç‡ï¼‰ã€‘
ãƒ»åˆå¹´åº¦ï¼šåŠ¹ç‡åŒ–ã«ã‚ˆã‚‹å‰Šæ¸›åŠ¹æœ120ä¸‡å††
ãƒ»2å¹´ç›®ä»¥é™ï¼šå¹´é–“180ä¸‡å††ã®åŠ¹æœ
ãƒ»æŠ•è³‡å›åæœŸé–“ï¼šç´„1.5å¹´
ãƒ»5å¹´é–“ç´¯è¨ˆåŠ¹æœï¼š800ä¸‡å††`
        }
      ]
    };
  };

  // ITå°å…¥è£œåŠ©é‡‘ - ç”Ÿç”£æ€§å‘ä¸Šè¨ˆç”»æ›¸ç”Ÿæˆ
  const generateProductivityPlan = (formData: any) => {
    const employeeCount = formData?.employeeCount || '20';
    const annualRevenue = formData?.annualRevenue || '10000';
    
    return {
      sections: [
        {
          title: '1. ç¾çŠ¶ã®ç”Ÿç”£æ€§åˆ†æ',
          content: `ã€ç¾åœ¨ã®ç”Ÿç”£æ€§æŒ‡æ¨™ã€‘
ãƒ»å¾“æ¥­å“¡ä¸€äººå½“ãŸã‚Šå£²ä¸Šé«˜ï¼š${(parseInt(annualRevenue) / parseInt(employeeCount)).toFixed(0)}ä¸‡å††
ãƒ»åŠ´åƒç”Ÿç”£æ€§ï¼šæ¥­ç•Œå¹³å‡ã‚’ä¸‹å›ã‚‹æ°´æº–
ãƒ»ä»˜åŠ ä¾¡å€¤é¡ï¼šå£²ä¸Šé«˜ã®35%

ã€ç”Ÿç”£æ€§ã‚’é˜»å®³ã™ã‚‹è¦å› ã€‘
ãƒ»æ‰‹ä½œæ¥­ã«ã‚ˆã‚‹éåŠ¹ç‡ãªæ¥­å‹™ãƒ—ãƒ­ã‚»ã‚¹
ãƒ»æƒ…å ±å…±æœ‰ã®ä¸è¶³ã«ã‚ˆã‚‹é‡è¤‡ä½œæ¥­
ãƒ»ãƒ‡ãƒ¼ã‚¿åˆ†æä¸è¶³ã«ã‚ˆã‚‹æ„æ€æ±ºå®šã®é…ã‚Œ
ãƒ»é¡§å®¢æƒ…å ±ã®åˆ†æ•£ã«ã‚ˆã‚‹å–¶æ¥­åŠ¹ç‡ã®ä½ä¸‹`
        },
        {
          title: '2. ITå°å…¥ã«ã‚ˆã‚‹ç”Ÿç”£æ€§å‘ä¸Šæ–½ç­–',
          content: `ã€æ¥­å‹™è‡ªå‹•åŒ–ã«ã‚ˆã‚‹åŠ¹ç‡åŒ–ã€‘
ãƒ»å®šå‹æ¥­å‹™ã®è‡ªå‹•åŒ–ç‡ï¼šç¾åœ¨10%â†’å°å…¥å¾Œ60%
ãƒ»RPAæ´»ç”¨ã«ã‚ˆã‚‹å˜ç´”ä½œæ¥­ã®å‰Šæ¸›
ãƒ»AIãƒãƒ£ãƒƒãƒˆãƒœãƒƒãƒˆã«ã‚ˆã‚‹å•ã„åˆã‚ã›å¯¾å¿œè‡ªå‹•åŒ–

ã€æƒ…å ±å…±æœ‰ã®æœ€é©åŒ–ã€‘
ãƒ»ã‚¯ãƒ©ã‚¦ãƒ‰å‹ã‚°ãƒ«ãƒ¼ãƒ—ã‚¦ã‚§ã‚¢ã®å°å…¥
ãƒ»ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ã®æƒ…å ±å…±æœ‰ä½“åˆ¶æ§‹ç¯‰
ãƒ»ãƒŠãƒ¬ãƒƒã‚¸ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚·ã‚¹ãƒ†ãƒ ã®æ´»ç”¨

ã€ãƒ‡ãƒ¼ã‚¿é§†å‹•å‹çµŒå–¶ã®å®Ÿç¾ã€‘
ãƒ»BIãƒ„ãƒ¼ãƒ«ã«ã‚ˆã‚‹çµŒå–¶ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰æ§‹ç¯‰
ãƒ»å£²ä¸Šäºˆæ¸¬ãƒ»éœ€è¦äºˆæ¸¬ã®ç²¾åº¦å‘ä¸Š
ãƒ»é¡§å®¢åˆ†æã«ã‚ˆã‚‹å–¶æ¥­æˆ¦ç•¥ã®æœ€é©åŒ–`
        },
        {
          title: '3. ç”Ÿç”£æ€§å‘ä¸Šã®æ•°å€¤ç›®æ¨™',
          content: `ã€çŸ­æœŸç›®æ¨™ï¼ˆ1å¹´ä»¥å†…ï¼‰ã€‘
ãƒ»åŠ´åƒç”Ÿç”£æ€§ï¼š15%å‘ä¸Š
ãƒ»å¾“æ¥­å“¡ä¸€äººå½“ãŸã‚Šå£²ä¸Šé«˜ï¼š10%å¢—åŠ 
ãƒ»æ®‹æ¥­æ™‚é–“ï¼š30%å‰Šæ¸›

ã€ä¸­æœŸç›®æ¨™ï¼ˆ3å¹´ä»¥å†…ï¼‰ã€‘
ãƒ»åŠ´åƒç”Ÿç”£æ€§ï¼š30%å‘ä¸Š
ãƒ»å¾“æ¥­å“¡ä¸€äººå½“ãŸã‚Šå£²ä¸Šé«˜ï¼š25%å¢—åŠ 
ãƒ»ä»˜åŠ ä¾¡å€¤ç‡ï¼š35%â†’45%ã¸å‘ä¸Š

ã€é•·æœŸç›®æ¨™ï¼ˆ5å¹´ä»¥å†…ï¼‰ã€‘
ãƒ»åŠ´åƒç”Ÿç”£æ€§ï¼š50%å‘ä¸Š
ãƒ»æ¥­ç•Œãƒˆãƒƒãƒ—ã‚¯ãƒ©ã‚¹ã®ç”Ÿç”£æ€§å®Ÿç¾
ãƒ»åƒãæ–¹æ”¹é©ã®å®Œå…¨å®Ÿç¾`
        },
        {
          title: '4. å®Ÿæ–½ä½“åˆ¶ã¨æ¨é€²è¨ˆç”»',
          content: `ã€æ¨é€²ä½“åˆ¶ã€‘
ãƒ»çµŒå–¶å±¤ï¼šãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚ªãƒ¼ãƒŠãƒ¼
ãƒ»ITæ¨é€²è²¬ä»»è€…ï¼šãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼
ãƒ»å„éƒ¨é–€è²¬ä»»è€…ï¼šæ¨é€²ãƒ¡ãƒ³ãƒãƒ¼
ãƒ»å¤–éƒ¨å°‚é–€å®¶ï¼šã‚¢ãƒ‰ãƒã‚¤ã‚¶ãƒ¼

ã€æ¨é€²è¨ˆç”»ã€‘
ç¬¬1æ®µéšï¼šåŸºç›¤æ•´å‚™ï¼ˆ0ã€œ6ãƒ¶æœˆï¼‰
ãƒ»ITç’°å¢ƒã®æ•´å‚™
ãƒ»å¾“æ¥­å“¡ã®ITãƒªãƒ†ãƒ©ã‚·ãƒ¼å‘ä¸Š
ãƒ»æ¥­å‹™ãƒ—ãƒ­ã‚»ã‚¹ã®æ¨™æº–åŒ–

ç¬¬2æ®µéšï¼šæœ¬æ ¼å±•é–‹ï¼ˆ7ã€œ12ãƒ¶æœˆï¼‰
ãƒ»ä¸»è¦æ¥­å‹™ã®ãƒ‡ã‚¸ã‚¿ãƒ«åŒ–
ãƒ»ãƒ‡ãƒ¼ã‚¿æ´»ç”¨ä½“åˆ¶ã®æ§‹ç¯‰
ãƒ»ç¶™ç¶šçš„æ”¹å–„ã‚µã‚¤ã‚¯ãƒ«ã®ç¢ºç«‹

ç¬¬3æ®µéšï¼šé«˜åº¦åŒ–ï¼ˆ13ãƒ¶æœˆã€œï¼‰
ãƒ»AIãƒ»IoTç­‰ã®å…ˆç«¯æŠ€è¡“æ´»ç”¨
ãƒ»ãƒ“ã‚¸ãƒã‚¹ãƒ¢ãƒ‡ãƒ«ã®å¤‰é©
ãƒ»æ–°ãŸãªä¾¡å€¤å‰µé€ `
        },
        {
          title: '5. ç”Ÿç”£æ€§å‘ä¸Šã«ã‚ˆã‚‹çµŒå–¶æ”¹å–„åŠ¹æœ',
          content: `ã€è²¡å‹™é¢ã®æ”¹å–„ã€‘
ãƒ»å£²ä¸Šé«˜å–¶æ¥­åˆ©ç›Šç‡ï¼š5%â†’8%ã¸æ”¹å–„
ãƒ»ROEï¼ˆè‡ªå·±è³‡æœ¬åˆ©ç›Šç‡ï¼‰ï¼š10%â†’15%ã¸å‘ä¸Š
ãƒ»ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ•ãƒ­ãƒ¼ï¼šå¹´é–“20%æ”¹å–„

ã€çµ„ç¹”é¢ã®æ”¹å–„ã€‘
ãƒ»å¾“æ¥­å“¡æº€è¶³åº¦ï¼š20ãƒã‚¤ãƒ³ãƒˆå‘ä¸Š
ãƒ»é›¢è·ç‡ï¼š50%å‰Šæ¸›
ãƒ»æ¡ç”¨ç«¶äº‰åŠ›ã®å‘ä¸Š

ã€ç«¶äº‰åŠ›ã®å¼·åŒ–ã€‘
ãƒ»æ–°ã‚µãƒ¼ãƒ“ã‚¹é–‹ç™ºæœŸé–“ï¼š50%çŸ­ç¸®
ãƒ»é¡§å®¢æº€è¶³åº¦ï¼š15ãƒã‚¤ãƒ³ãƒˆå‘ä¸Š
ãƒ»å¸‚å ´ã‚·ã‚§ã‚¢ï¼š5%æ‹¡å¤§`
        }
      ]
    };
  };

  // ITå°å…¥è£œåŠ©é‡‘ - è³ƒé‡‘å¼•ä¸Šã’è¨ˆç”»æ›¸ç”Ÿæˆ
  const generateWageIncreasePlan = (formData: any) => {
    return {
      sections: [
        {
          title: '1. è³ƒé‡‘å¼•ä¸Šã’ã®åŸºæœ¬æ–¹é‡',
          content: `å½“ç¤¾ã¯ã€ITå°å…¥ã«ã‚ˆã‚‹ç”Ÿç”£æ€§å‘ä¸Šã®æˆæœã‚’å¾“æ¥­å“¡ã«é©åˆ‡ã«é‚„å…ƒã—ã€æŒç¶šçš„ãªä¼æ¥­æˆé•·ã¨å¾“æ¥­å“¡ã®ç”Ÿæ´»å‘ä¸Šã®ä¸¡ç«‹ã‚’ç›®æŒ‡ã—ã¾ã™ã€‚ç”Ÿç”£æ€§å‘ä¸Šã«ã‚ˆã‚Šå‰µå‡ºã•ã‚ŒãŸä»˜åŠ ä¾¡å€¤ã®ä¸€å®šå‰²åˆã‚’ã€è¨ˆç”»çš„ãªè³ƒé‡‘å¼•ä¸Šã’ã«å……å½“ã™ã‚‹ã“ã¨ã§ã€å„ªç§€ãªäººæã®ç¢ºä¿ã¨å¾“æ¥­å“¡ã®ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³å‘ä¸Šã‚’å®Ÿç¾ã—ã¾ã™ã€‚`
        },
        {
          title: '2. è³ƒé‡‘å¼•ä¸Šã’è¨ˆç”»',
          content: `ã€ç¬¬1å¹´åº¦ã€‘
ãƒ»å¹³å‡è³ƒé‡‘å¼•ä¸Šã’ç‡ï¼š3.0%
ãƒ»æœ€ä½è³ƒé‡‘ï¼šæ™‚çµ¦1,100å††ï¼ˆåœ°åŸŸæœ€ä½è³ƒé‡‘+10%ï¼‰
ãƒ»å¯¾è±¡è€…ï¼šå…¨å¾“æ¥­å“¡
ãƒ»å®Ÿæ–½æ™‚æœŸï¼š2025å¹´4æœˆ

ã€ç¬¬2å¹´åº¦ã€‘
ãƒ»å¹³å‡è³ƒé‡‘å¼•ä¸Šã’ç‡ï¼š3.5%
ãƒ»æœ€ä½è³ƒé‡‘ï¼šæ™‚çµ¦1,150å††
ãƒ»æ¥­ç¸¾é€£å‹•è³ä¸ã®å°å…¥
ãƒ»å®Ÿæ–½æ™‚æœŸï¼š2026å¹´4æœˆ

ã€ç¬¬3å¹´åº¦ã€‘
ãƒ»å¹³å‡è³ƒé‡‘å¼•ä¸Šã’ç‡ï¼š4.0%
ãƒ»æœ€ä½è³ƒé‡‘ï¼šæ™‚çµ¦1,200å††
ãƒ»ã‚¹ã‚­ãƒ«æ‰‹å½“ã®æ–°è¨­
ãƒ»å®Ÿæ–½æ™‚æœŸï¼š2027å¹´4æœˆ`
        },
        {
          title: '3. åŸè³‡ã®ç¢ºä¿',
          content: `ã€ç”Ÿç”£æ€§å‘ä¸Šã«ã‚ˆã‚‹åŸè³‡å‰µå‡ºã€‘
ãƒ»ITå°å…¥ã«ã‚ˆã‚‹äººä»¶è²»å‰Šæ¸›åŠ¹æœï¼šå¹´é–“200ä¸‡å††
ãƒ»å£²ä¸Šå¢—åŠ ã«ã‚ˆã‚‹ç²—åˆ©ç›Šå¢—åŠ ï¼šå¹´é–“300ä¸‡å††
ãƒ»æ¥­å‹™åŠ¹ç‡åŒ–ã«ã‚ˆã‚‹æ®‹æ¥­ä»£å‰Šæ¸›ï¼šå¹´é–“100ä¸‡å††
åˆè¨ˆï¼šå¹´é–“600ä¸‡å††

ã€è³ƒé‡‘å¼•ä¸Šã’å¿…è¦é¡ã€‘
ãƒ»ç¬¬1å¹´åº¦ï¼š450ä¸‡å††
ãƒ»ç¬¬2å¹´åº¦ï¼š525ä¸‡å††
ãƒ»ç¬¬3å¹´åº¦ï¼š600ä¸‡å††

ã€åæ”¯è¨ˆç”»ã€‘
å„å¹´åº¦ã«ãŠã„ã¦ã€ç”Ÿç”£æ€§å‘ä¸ŠåŠ¹æœãŒè³ƒé‡‘å¼•ä¸Šã’åŸè³‡ã‚’ä¸Šå›ã‚‹ã“ã¨ã‚’ç¢ºèªæ¸ˆã¿`
        },
        {
          title: '4. äººæè‚²æˆã¨ã®é€£å‹•',
          content: `ã€ã‚¹ã‚­ãƒ«ã‚¢ãƒƒãƒ—æ”¯æ´ã€‘
ãƒ»ITé–¢é€£è³‡æ ¼å–å¾—æ”¯æ´åˆ¶åº¦ã®å‰µè¨­
ãƒ»å¤–éƒ¨ç ”ä¿®ã¸ã®å‚åŠ æ”¯æ´ï¼ˆå¹´é–“äºˆç®—100ä¸‡å††ï¼‰
ãƒ»ç¤¾å†…å‹‰å¼·ä¼šã®å®šæœŸé–‹å‚¬

ã€ã‚­ãƒ£ãƒªã‚¢ãƒ‘ã‚¹æ˜ç¢ºåŒ–ã€‘
ãƒ»ã‚¹ã‚­ãƒ«ãƒ¬ãƒ™ãƒ«ã«å¿œã˜ãŸç­‰ç´šåˆ¶åº¦å°å…¥
ãƒ»æ˜‡é€²ãƒ»æ˜‡æ ¼åŸºæº–ã®æ˜ç¢ºåŒ–
ãƒ»å€‹äººåˆ¥è‚²æˆè¨ˆç”»ã®ç­–å®š

ã€è©•ä¾¡åˆ¶åº¦ã®æ”¹å–„ã€‘
ãƒ»ç”Ÿç”£æ€§å‘ä¸Šã¸ã®è²¢çŒ®åº¦è©•ä¾¡
ãƒ»å¤šé¢è©•ä¾¡åˆ¶åº¦ã®å°å…¥
ãƒ»ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯é¢è«‡ã®å……å®Ÿ`
        },
        {
          title: '5. æœŸå¾…ã•ã‚Œã‚‹åŠ¹æœã¨æŒç¶šå¯èƒ½æ€§',
          content: `ã€å¾“æ¥­å“¡ã¸ã®åŠ¹æœã€‘
ãƒ»ç”Ÿæ´»æ°´æº–ã®å‘ä¸Š
ãƒ»ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³å‘ä¸Šã«ã‚ˆã‚‹ç”Ÿç”£æ€§ã®ã•ã‚‰ãªã‚‹æ”¹å–„
ãƒ»ã‚¹ã‚­ãƒ«ã‚¢ãƒƒãƒ—ã«ã‚ˆã‚‹ã‚­ãƒ£ãƒªã‚¢å½¢æˆ

ã€ä¼æ¥­ã¸ã®åŠ¹æœã€‘
ãƒ»å„ªç§€ãªäººæã®ç¢ºä¿ãƒ»å®šç€
ãƒ»ä¼æ¥­ã‚¤ãƒ¡ãƒ¼ã‚¸ã®å‘ä¸Š
ãƒ»æŒç¶šçš„ãªç«¶äº‰åŠ›å¼·åŒ–

ã€åœ°åŸŸç¤¾ä¼šã¸ã®åŠ¹æœã€‘
ãƒ»åœ°åŸŸçµŒæ¸ˆã®æ´»æ€§åŒ–
ãƒ»é›‡ç”¨ã®è³ªå‘ä¸Š
ãƒ»æ¶ˆè²»æ‹¡å¤§ã¸ã®è²¢çŒ®

ã€æŒç¶šå¯èƒ½æ€§ã®ç¢ºä¿ã€‘
ãƒ»ç¶™ç¶šçš„ãªç”Ÿç”£æ€§å‘ä¸Šæ–½ç­–ã®å®Ÿæ–½
ãƒ»å®šæœŸçš„ãªè³ƒé‡‘æ°´æº–ã®è¦‹ç›´ã—
ãƒ»åŠ´ä½¿å”èª¿ã«ã‚ˆã‚‹æ”¹å–„æ´»å‹•`
        }
      ]
    };
  };

  // ã‚‚ã®ã¥ãã‚Šè£œåŠ©é‡‘ - æŠ€è¡“é–‹ç™ºè¨ˆç”»æ›¸ç”Ÿæˆ
  const generateMonozukuriTechnicalPlan = (formData: any) => {
    const projectTitle = formData?.projectTitle || 'é©æ–°çš„è£½é€ ãƒ—ãƒ­ã‚»ã‚¹ã®é–‹ç™º';
    const technicalContent = formData?.technicalContent || 'æœ€æ–°æŠ€è¡“ã‚’æ´»ç”¨ã—ãŸç”Ÿç”£æ€§å‘ä¸Š';
    
    return {
      sections: [
        {
          title: '1. æŠ€è¡“é–‹ç™ºã®æ¦‚è¦',
          content: `æœ¬äº‹æ¥­ã§ã¯ã€Œ${projectTitle}ã€ã‚’ãƒ†ãƒ¼ãƒã«ã€${technicalContent}ã‚’å®Ÿç¾ã—ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€å¾“æ¥ã®è£½é€ æ–¹æ³•ã§ã¯ä¸å¯èƒ½ã ã£ãŸé«˜å“è³ªãƒ»ä½ã‚³ã‚¹ãƒˆãƒ»çŸ­ç´æœŸã®åŒæ™‚å®Ÿç¾ã‚’ç›®æŒ‡ã—ã¾ã™ã€‚`
        },
        {
          title: '2. æŠ€è¡“çš„èª²é¡Œã¨è§£æ±ºæ–¹æ³•',
          content: `ã€ç¾çŠ¶ã®æŠ€è¡“çš„èª²é¡Œã€‘
ãƒ»åŠ å·¥ç²¾åº¦ã®é™ç•Œï¼ˆç¾çŠ¶Â±0.1mmâ†’ç›®æ¨™Â±0.01mmï¼‰
ãƒ»ç”Ÿç”£åŠ¹ç‡ã®é ­æ‰“ã¡ï¼ˆç¨¼åƒç‡65%ï¼‰
ãƒ»å“è³ªã®ã°ã‚‰ã¤ãï¼ˆä¸è‰¯ç‡3%ï¼‰
ãƒ»ç†Ÿç·´æŠ€è¡“è€…ã¸ã®ä¾å­˜

ã€é©æ–°çš„ãªè§£æ±ºæ–¹æ³•ã€‘
ãƒ»AIç”»åƒèªè­˜ã«ã‚ˆã‚‹è‡ªå‹•æ¤œæŸ»ã‚·ã‚¹ãƒ†ãƒ å°å…¥
ãƒ»IoTã‚»ãƒ³ã‚µãƒ¼ã«ã‚ˆã‚‹ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ å“è³ªç®¡ç†
ãƒ»ãƒ­ãƒœãƒƒãƒˆã«ã‚ˆã‚‹è‡ªå‹•åŒ–ãƒ©ã‚¤ãƒ³æ§‹ç¯‰
ãƒ»ãƒ‡ã‚¸ã‚¿ãƒ«ãƒ„ã‚¤ãƒ³æŠ€è¡“ã«ã‚ˆã‚‹æœ€é©åŒ–`
        },
        {
          title: '3. æŠ€è¡“é–‹ç™ºã®å®Ÿæ–½è¨ˆç”»',
          content: `ã€é–‹ç™ºãƒ•ã‚§ãƒ¼ã‚º1ï¼šåŸºç¤ç ”ç©¶ï¼ˆ1ã€œ3ãƒ¶æœˆï¼‰ã€‘
ãƒ»æŠ€è¡“è¦ç´ ã®è©³ç´°æ¤œè¨
ãƒ»ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—è¨­è¨ˆ
ãƒ»ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿæ–½

ã€é–‹ç™ºãƒ•ã‚§ãƒ¼ã‚º2ï¼šè©¦ä½œé–‹ç™ºï¼ˆ4ã€œ6ãƒ¶æœˆï¼‰ã€‘
ãƒ»è©¦ä½œæ©Ÿã®è£½ä½œ
ãƒ»æ€§èƒ½è©•ä¾¡è©¦é¨“
ãƒ»æ”¹è‰¯è¨­è¨ˆ

ã€é–‹ç™ºãƒ•ã‚§ãƒ¼ã‚º3ï¼šå®Ÿè¨¼è©¦é¨“ï¼ˆ7ã€œ9ãƒ¶æœˆï¼‰ã€‘
ãƒ»é‡ç”£è©¦ä½œ
ãƒ»è€ä¹…æ€§è©¦é¨“
ãƒ»å“è³ªå®‰å®šæ€§ç¢ºèª

ã€é–‹ç™ºãƒ•ã‚§ãƒ¼ã‚º4ï¼šé‡ç”£æº–å‚™ï¼ˆ10ã€œ12ãƒ¶æœˆï¼‰ã€‘
ãƒ»é‡ç”£è¨­å‚™ã®å°å…¥
ãƒ»ä½œæ¥­æ¨™æº–æ›¸ä½œæˆ
ãƒ»å“è³ªä¿è¨¼ä½“åˆ¶æ§‹ç¯‰`
        },
        {
          title: '4. æŠ€è¡“çš„å„ªä½æ€§',
          content: `ã€ç‹¬è‡ªæŠ€è¡“ã®ç‰¹å¾´ã€‘
ãƒ»æ¥­ç•Œåˆã®ã€‡ã€‡æŠ€è¡“æ¡ç”¨
ãƒ»ç‰¹è¨±å‡ºé¡˜äºˆå®šï¼ˆ3ä»¶ï¼‰
ãƒ»ç«¶åˆä»–ç¤¾æ¯”30%ã®ç”Ÿç”£æ€§å‘ä¸Š

ã€æŠ€è¡“çš„éšœå£ã€‘
ãƒ»é–‹ç™ºã«3å¹´ä»¥ä¸Šå¿…è¦
ãƒ»è¨­å‚™æŠ•è³‡é¡ãŒå‚å…¥éšœå£
ãƒ»ãƒã‚¦ãƒã‚¦ã®è“„ç©ãŒå¿…é ˆ

ã€æŒç¶šçš„ç«¶äº‰å„ªä½ã€‘
ãƒ»ç¶™ç¶šçš„ãªæ”¹è‰¯é–‹ç™º
ãƒ»çŸ¥çš„è²¡ç”£æˆ¦ç•¥
ãƒ»ç”£å­¦é€£æºã«ã‚ˆã‚‹æŠ€è¡“æ·±åŒ–`
        },
        {
          title: '5. äº‹æ¥­åŒ–è¨ˆç”»',
          content: `ã€è£½å“åŒ–ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã€‘
ãƒ»1å¹´ç›®ï¼šé‡ç”£ä½“åˆ¶ç¢ºç«‹
ãƒ»2å¹´ç›®ï¼šæœ¬æ ¼çš„å¸‚å ´æŠ•å…¥
ãƒ»3å¹´ç›®ï¼šã‚·ã‚§ã‚¢10%ç²å¾—

ã€æƒ³å®šé¡§å®¢ã€‘
ãƒ»å¤§æ‰‹è£½é€ æ¥­ï¼ˆè‡ªå‹•è»Šã€é›»æ©Ÿï¼‰
ãƒ»ä¸­å …éƒ¨å“ãƒ¡ãƒ¼ã‚«ãƒ¼
ãƒ»æµ·å¤–å¸‚å ´ï¼ˆã‚¢ã‚¸ã‚¢ã€æ¬§å·ï¼‰

ã€åç›Šè¨ˆç”»ã€‘
ãƒ»1å¹´ç›®ï¼š5,000ä¸‡å††
ãƒ»2å¹´ç›®ï¼š1.5å„„å††
ãƒ»3å¹´ç›®ï¼š3å„„å††
ãƒ»æŠ•è³‡å›åæœŸé–“ï¼š2.5å¹´`
        }
      ]
    };
  };

  // ã‚‚ã®ã¥ãã‚Šè£œåŠ©é‡‘ - å¸‚å ´æˆ¦ç•¥æ›¸ç”Ÿæˆ
  const generateMonozukuriMarketStrategy = (formData: any) => {
    return {
      sections: [
        {
          title: '1. å¸‚å ´ç’°å¢ƒåˆ†æ',
          content: `ã€å¸‚å ´è¦æ¨¡ã¨æˆé•·æ€§ã€‘
ãƒ»å›½å†…å¸‚å ´è¦æ¨¡ï¼š500å„„å††ï¼ˆå¹´ç‡5%æˆé•·ï¼‰
ãƒ»æµ·å¤–å¸‚å ´è¦æ¨¡ï¼š2,000å„„å††ï¼ˆå¹´ç‡8%æˆé•·ï¼‰
ãƒ»å½“ç¤¾ã‚¿ãƒ¼ã‚²ãƒƒãƒˆå¸‚å ´ï¼š50å„„å††

ã€å¸‚å ´ãƒˆãƒ¬ãƒ³ãƒ‰ã€‘
ãƒ»ç’°å¢ƒè¦åˆ¶å¼·åŒ–ã«ã‚ˆã‚‹çœã‚¨ãƒéœ€è¦å¢—
ãƒ»ãƒ‡ã‚¸ã‚¿ãƒ«åŒ–ã«ã‚ˆã‚‹é«˜ç²¾åº¦åŒ–ãƒ‹ãƒ¼ã‚º
ãƒ»ã‚µãƒ—ãƒ©ã‚¤ãƒã‚§ãƒ¼ãƒ³æœ€é©åŒ–ã®è¦æ±‚
ãƒ»ã‚«ãƒ¼ãƒœãƒ³ãƒ‹ãƒ¥ãƒ¼ãƒˆãƒ©ãƒ«ã¸ã®å¯¾å¿œ`
        },
        {
          title: '2. ç«¶åˆåˆ†æ',
          content: `ã€ä¸»è¦ç«¶åˆä»–ç¤¾ã€‘
ãƒ»Aç¤¾ï¼šå¸‚å ´ã‚·ã‚§ã‚¢30%ã€ä¾¡æ ¼ç«¶äº‰åŠ›
ãƒ»Bç¤¾ï¼šå¸‚å ´ã‚·ã‚§ã‚¢25%ã€æŠ€è¡“åŠ›
ãƒ»Cç¤¾ï¼šå¸‚å ´ã‚·ã‚§ã‚¢20%ã€ã‚µãƒ¼ãƒ“ã‚¹åŠ›

ã€å½“ç¤¾ã®å·®åˆ¥åŒ–è¦å› ã€‘
ãƒ»ç‹¬è‡ªæŠ€è¡“ã«ã‚ˆã‚‹é«˜å“è³ª
ãƒ»ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯¾å¿œåŠ›
ãƒ»çŸ­ç´æœŸå¯¾å¿œ
ãƒ»ã‚¢ãƒ•ã‚¿ãƒ¼ã‚µãƒ¼ãƒ“ã‚¹å……å®Ÿ`
        },
        {
          title: '3. ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°æˆ¦ç•¥',
          content: `ã€è£½å“æˆ¦ç•¥ã€‘
ãƒ»é«˜ä»˜åŠ ä¾¡å€¤è£½å“ã¸ã‚·ãƒ•ãƒˆ
ãƒ»ç’°å¢ƒå¯¾å¿œè£½å“ãƒ©ã‚¤ãƒ³ãƒŠãƒƒãƒ—æ‹¡å……
ãƒ»ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åŒ–ã«ã‚ˆã‚‹æŸ”è»Ÿæ€§å‘ä¸Š

ã€ä¾¡æ ¼æˆ¦ç•¥ã€‘
ãƒ»ä¾¡å€¤ææ¡ˆå‹ä¾¡æ ¼è¨­å®š
ãƒ»åˆæœŸå°å…¥ã‚³ã‚¹ãƒˆä½æ¸›ãƒ—ãƒ©ãƒ³
ãƒ»ãƒˆãƒ¼ã‚¿ãƒ«ã‚³ã‚¹ãƒˆå‰Šæ¸›ææ¡ˆ

ã€è²©å£²æˆ¦ç•¥ã€‘
ãƒ»ç›´è²©ä½“åˆ¶å¼·åŒ–
ãƒ»ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ä¼æ¥­ã¨ã®å”æ¥­
ãƒ»ã‚ªãƒ³ãƒ©ã‚¤ãƒ³å•†è«‡æ´»ç”¨`
        },
        {
          title: '4. è²©å£²è¨ˆç”»',
          content: `ã€è²©å£²ç›®æ¨™ã€‘
ãƒ»1å¹´ç›®ï¼š100å°ï¼ˆ5,000ä¸‡å††ï¼‰
ãƒ»2å¹´ç›®ï¼š300å°ï¼ˆ1.5å„„å††ï¼‰
ãƒ»3å¹´ç›®ï¼š600å°ï¼ˆ3å„„å††ï¼‰

ã€é‡ç‚¹é¡§å®¢é–‹æ‹“ã€‘
ãƒ»æ—¢å­˜é¡§å®¢æ·±è€•ï¼šå£²ä¸Šã®60%
ãƒ»æ–°è¦é¡§å®¢é–‹æ‹“ï¼šå£²ä¸Šã®30%
ãƒ»æµ·å¤–å±•é–‹ï¼šå£²ä¸Šã®10%

ã€å–¶æ¥­ä½“åˆ¶ã€‘
ãƒ»å–¶æ¥­äººå“¡ï¼š5åâ†’8åã¸å¢—å¼·
ãƒ»æŠ€è¡“å–¶æ¥­ã®è‚²æˆ
ãƒ»ãƒ‡ã‚¸ã‚¿ãƒ«ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°å¼·åŒ–`
        },
        {
          title: '5. é¡§å®¢ä¾¡å€¤ææ¡ˆ',
          content: `ã€æä¾›ä¾¡å€¤ã€‘
ãƒ»ç”Ÿç”£æ€§30%å‘ä¸Š
ãƒ»ä¸è‰¯ç‡80%å‰Šæ¸›
ãƒ»ã‚¨ãƒãƒ«ã‚®ãƒ¼æ¶ˆè²»25%å‰Šæ¸›
ãƒ»æŠ•è³‡å›å2å¹´ä»¥å†…

ã€ã‚µãƒãƒ¼ãƒˆä½“åˆ¶ã€‘
ãƒ»24æ™‚é–“ã‚µãƒãƒ¼ãƒˆ
ãƒ»äºˆé˜²ä¿å…¨ã‚µãƒ¼ãƒ“ã‚¹
ãƒ»ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰å¯¾å¿œ
ãƒ»ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°æä¾›`
        }
      ]
    };
  };

  // ã‚‚ã®ã¥ãã‚Šè£œåŠ©é‡‘ - è¨­å‚™æŠ•è³‡è¨ˆç”»æ›¸ç”Ÿæˆ
  const generateMonozukuriInvestmentPlan = (formData: any) => {
    const totalBudget = formData?.totalBudget || '30000000';
    
    return {
      sections: [
        {
          title: '1. è¨­å‚™æŠ•è³‡ã®æ¦‚è¦',
          content: `æœ¬äº‹æ¥­ã§ã¯ã€ç·é¡${parseInt(totalBudget).toLocaleString()}å††ã®è¨­å‚™æŠ•è³‡ã‚’è¡Œã„ã€é©æ–°çš„ãªç”Ÿç”£ä½“åˆ¶ã‚’æ§‹ç¯‰ã—ã¾ã™ã€‚æœ€æ–°é‹­ã®ç”Ÿç”£è¨­å‚™ã¨æ¤œæŸ»è£…ç½®ã‚’å°å…¥ã™ã‚‹ã“ã¨ã§ã€å“è³ªã¨ç”Ÿç”£æ€§ã®é£›èºçš„å‘ä¸Šã‚’å®Ÿç¾ã—ã¾ã™ã€‚`
        },
        {
          title: '2. å°å…¥è¨­å‚™ã®è©³ç´°',
          content: `ã€ä¸»è¦ç”Ÿç”£è¨­å‚™ã€‘
ãƒ»5è»¸ãƒã‚·ãƒ‹ãƒ³ã‚°ã‚»ãƒ³ã‚¿ãƒ¼ï¼š1,500ä¸‡å††
 - åŠ å·¥ç²¾åº¦ï¼šÂ±0.005mm
 - åŠ å·¥é€Ÿåº¦ï¼šå¾“æ¥æ¯”2å€
 - è‡ªå‹•å·¥å…·äº¤æ›æ©Ÿèƒ½

ãƒ»ãƒ¬ãƒ¼ã‚¶ãƒ¼åŠ å·¥æ©Ÿï¼š800ä¸‡å††
 - åˆ‡æ–­ç²¾åº¦ï¼šÂ±0.01mm
 - ææ–™å¯¾å¿œï¼šé‡‘å±ã€æ¨¹è„‚ã€è¤‡åˆæ
 - CAD/CAMé€£æº

ã€æ¤œæŸ»ãƒ»æ¸¬å®šè£…ç½®ã€‘
ãƒ»3æ¬¡å…ƒæ¸¬å®šæ©Ÿï¼š500ä¸‡å††
 - æ¸¬å®šç²¾åº¦ï¼š0.001mm
 - è‡ªå‹•æ¸¬å®šãƒ—ãƒ­ã‚°ãƒ©ãƒ 
 - ãƒ‡ãƒ¼ã‚¿è§£ææ©Ÿèƒ½

ã€ä»˜å¸¯è¨­å‚™ã€‘
ãƒ»æ¬é€ãƒ­ãƒœãƒƒãƒˆï¼š200ä¸‡å††
ãƒ»ç’°å¢ƒåˆ¶å¾¡è£…ç½®ï¼š100ä¸‡å††
ãƒ»å®‰å…¨è£…ç½®ä¸€å¼ï¼š100ä¸‡å††`
        },
        {
          title: '3. æŠ•è³‡åŠ¹æœåˆ†æ',
          content: `ã€ç”Ÿç”£èƒ½åŠ›å‘ä¸Šã€‘
ãƒ»ç”Ÿç”£èƒ½åŠ›ï¼š200%å‘ä¸Š
ãƒ»ç¨¼åƒç‡ï¼š65%â†’85%
ãƒ»æ®µå–ã‚Šæ™‚é–“ï¼š70%å‰Šæ¸›

ã€å“è³ªå‘ä¸Šã€‘
ãƒ»ä¸è‰¯ç‡ï¼š3%â†’0.5%
ãƒ»æ¤œæŸ»æ™‚é–“ï¼š50%å‰Šæ¸›
ãƒ»ãƒˆãƒ¬ãƒ¼ã‚µãƒ“ãƒªãƒ†ã‚£ç¢ºç«‹

ã€ã‚³ã‚¹ãƒˆå‰Šæ¸›ã€‘
ãƒ»è£½é€ åŸä¾¡ï¼š25%å‰Šæ¸›
ãƒ»äººä»¶è²»ï¼š30%å‰Šæ¸›
ãƒ»ã‚¨ãƒãƒ«ã‚®ãƒ¼ï¼š20%å‰Šæ¸›`
        },
        {
          title: '4. è³‡é‡‘è¨ˆç”»',
          content: `ã€è³‡é‡‘èª¿é”ã€‘
ãƒ»è‡ªå·±è³‡é‡‘ï¼š1,000ä¸‡å††
ãƒ»é‡‘èæ©Ÿé–¢å€Ÿå…¥ï¼š1,000ä¸‡å††
ãƒ»è£œåŠ©é‡‘ï¼š1,000ä¸‡å††

ã€æŠ•è³‡å›åè¨ˆç”»ã€‘
ãƒ»å¹´é–“å¢—ååŠ¹æœï¼š1,500ä¸‡å††
ãƒ»å¹´é–“ã‚³ã‚¹ãƒˆå‰Šæ¸›ï¼š500ä¸‡å††
ãƒ»æŠ•è³‡å›åæœŸé–“ï¼š3å¹´

ã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ•ãƒ­ãƒ¼ã€‘
ãƒ»1å¹´ç›®ï¼šâ–³1,000ä¸‡å††
ãƒ»2å¹´ç›®ï¼š+500ä¸‡å††
ãƒ»3å¹´ç›®ï¼š+1,000ä¸‡å††`
        },
        {
          title: '5. ãƒªã‚¹ã‚¯ç®¡ç†',
          content: `ã€æŠ€è¡“ãƒªã‚¹ã‚¯ã€‘
ãƒ»å°å…¥ç ”ä¿®ã®å¾¹åº•
ãƒ»ãƒ¡ãƒ¼ã‚«ãƒ¼ã‚µãƒãƒ¼ãƒˆå¥‘ç´„
ãƒ»æ®µéšçš„å°å…¥è¨ˆç”»

ã€å¸‚å ´ãƒªã‚¹ã‚¯ã€‘
ãƒ»è¤‡æ•°å¸‚å ´ã¸ã®å±•é–‹
ãƒ»è£½å“å¤šæ§˜åŒ–
ãƒ»é•·æœŸå¥‘ç´„ç¢ºä¿

ã€è²¡å‹™ãƒªã‚¹ã‚¯ã€‘
ãƒ»é©æ­£åœ¨åº«ç®¡ç†
ãƒ»ä¸ä¿¡ç®¡ç†å¼·åŒ–
ãƒ»ä¿é™ºæ´»ç”¨`
        }
      ]
    };
  };

  return (
    <div style={{ 
      minHeight: '100vh', 
      background: 'linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)',
      padding: '40px 20px'
    }}>
      <div style={{ maxWidth: '1000px', margin: '0 auto' }}>
        {/* å®Œäº†ãƒ’ãƒ¼ãƒ­ãƒ¼ */}
        <div className="completion-hero" style={{ marginBottom: '40px' }}>
          <div className="completion-icon">
            ğŸ‰
          </div>
          <h1 style={{ 
            fontSize: '42px', 
            fontWeight: 'bold',
            marginBottom: '16px'
          }}>
            ç”³è«‹æ›¸é¡ä½œæˆå®Œäº†ï¼
          </h1>
          <p style={{ 
            fontSize: '20px',
            opacity: 0.9,
            marginBottom: '24px'
          }}>
            {subsidyNames[selectedSubsidy as keyof typeof subsidyNames]} ã®ç”³è«‹æ›¸é¡ã‚’ã™ã¹ã¦æº–å‚™ã„ãŸã—ã¾ã—ãŸ
          </p>
          <div style={{
            display: 'inline-block',
            background: 'rgba(255,255,255,0.2)',
            backdropFilter: 'blur(10px)',
            padding: '16px 32px',
            borderRadius: '100px',
            fontSize: '18px'
          }}>
            ğŸ’¡ ã‚ã¨ã¯æ›¸é¡ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦æå‡ºã™ã‚‹ã ã‘ã§ã™
          </div>
        </div>

        {/* AIç”Ÿæˆæ›¸é¡ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚»ã‚¯ã‚·ãƒ§ãƒ³ */}
        <div className="card-modern" style={{ marginBottom: '32px' }}>
          <div style={{
            display: 'flex',
            justifyContent: 'space-between',
            alignItems: 'center',
            marginBottom: '24px',
            flexWrap: 'wrap',
            gap: '16px'
          }}>
            <h2 style={{
              fontSize: '24px',
              fontWeight: 'bold',
              color: 'var(--text-primary)',
              display: 'flex',
              alignItems: 'center',
              gap: '8px'
            }}>
              <FileSignature size={24} />
              AIç”Ÿæˆæ¸ˆã¿ç”³è«‹æ›¸é¡
            </h2>
            <span style={{
              padding: '8px 16px',
              background: 'linear-gradient(135deg, rgba(34, 197, 94, 0.1) 0%, rgba(16, 185, 129, 0.1) 100%)',
              color: '#065f46',
              borderRadius: '100px',
              fontSize: '14px',
              fontWeight: '600',
              display: 'flex',
              alignItems: 'center',
              gap: '8px'
            }}>
              <CheckCircle size={16} />
              ã‚ãªãŸã®æƒ…å ±ã§è‡ªå‹•ä½œæˆæ¸ˆã¿
            </span>
          </div>

          <div style={{
            background: 'linear-gradient(135deg, rgba(79, 172, 254, 0.05) 0%, rgba(0, 242, 254, 0.05) 100%)',
            border: '1px solid rgba(79, 172, 254, 0.2)',
            borderRadius: 'var(--border-radius)',
            padding: '24px',
            marginBottom: '24px'
          }}>
            <div style={{
              display: 'grid',
              gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))',
              gap: '20px'
            }}>
              {generateDocumentPreviews(selectedSubsidy, formData).map((doc, index) => (
                <div key={index} style={{
                  background: 'var(--bg-primary)',
                  borderRadius: 'var(--border-radius)',
                  padding: '20px',
                  boxShadow: 'var(--shadow-sm)',
                  transition: 'all var(--transition-normal)',
                  cursor: 'pointer'
                }}
                onMouseEnter={(e) => {
                  e.currentTarget.style.transform = 'translateY(-2px)';
                  e.currentTarget.style.boxShadow = 'var(--shadow-md)';
                }}
                onMouseLeave={(e) => {
                  e.currentTarget.style.transform = 'translateY(0)';
                  e.currentTarget.style.boxShadow = 'var(--shadow-sm)';
                }}
                onClick={() => {
                  setSelectedDocument(doc.type);
                  
                  // ä¿å­˜æ¸ˆã¿ã®ç·¨é›†å†…å®¹ãŒã‚ã‚‹ã‹ç¢ºèª
                  const storageKey = `editedDocument_${selectedSubsidy}_${doc.type}`;
                  const savedContent = localStorage.getItem(storageKey);
                  
                  if (savedContent) {
                    // ä¿å­˜æ¸ˆã¿ã®å†…å®¹ãŒã‚ã‚‹å ´åˆã¯ãã‚Œã‚’ä½¿ç”¨
                    const parsedContent = JSON.parse(savedContent);
                    setGeneratedContent(parsedContent);
                    setEditedContent(parsedContent);
                  } else {
                    // ä¿å­˜æ¸ˆã¿ã®å†…å®¹ãŒãªã„å ´åˆã¯å…ƒã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ä½¿ç”¨
                    setGeneratedContent(doc.content);
                    setEditedContent(doc.content);
                  }
                  
                  setShowDocumentPreview(true);
                  setIsEditMode(false);
                }}>
                  <div style={{
                    display: 'flex',
                    alignItems: 'center',
                    justifyContent: 'space-between',
                    marginBottom: '12px'
                  }}>
                    <h3 style={{
                      fontSize: '18px',
                      fontWeight: '600',
                      color: 'var(--text-primary)'
                    }}>
                      {doc.title}
                    </h3>
                    <Eye size={20} style={{ color: 'var(--primary-color)' }} />
                  </div>
                  <p style={{
                    fontSize: '14px',
                    color: 'var(--text-secondary)',
                    marginBottom: '12px',
                    lineHeight: '1.6'
                  }}>
                    {doc.description}
                  </p>
                  <div style={{
                    display: 'flex',
                    alignItems: 'center',
                    gap: '8px',
                    fontSize: '13px',
                    color: 'var(--text-muted)'
                  }}>
                    <CheckCircle size={14} style={{ color: 'var(--success-color)' }} />
                    AIåˆ†æå®Œäº† â€¢ ã‚¯ãƒªãƒƒã‚¯ã—ã¦å†…å®¹ç¢ºèª
                    {(() => {
                      const storageKey = `editedDocument_${selectedSubsidy}_${doc.type}`;
                      const savedContent = localStorage.getItem(storageKey);
                      return savedContent ? (
                        <span style={{
                          padding: '2px 8px',
                          background: '#e0f2fe',
                          color: '#0369a1',
                          borderRadius: '4px',
                          fontSize: '12px',
                          fontWeight: '600'
                        }}>
                          ç·¨é›†æ¸ˆã¿
                        </span>
                      ) : null;
                    })()}
                  </div>
                </div>
              ))}
            </div>
          </div>

          <p style={{
            fontSize: '14px',
            color: 'var(--text-secondary)',
            textAlign: 'center',
            marginTop: '16px'
          }}>
            ğŸ’¡ å„æ›¸é¡ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã€AIãŒç”Ÿæˆã—ãŸå†…å®¹ã‚’ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã§ãã¾ã™
          </p>
        </div>

        {/* ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ */}
        <div className="card-modern">
          {/* ç”³è«‹æƒ…å ±ã‚µãƒãƒªãƒ¼ */}
          <div style={{
            background: 'var(--bg-secondary)',
            borderRadius: 'var(--border-radius)',
            padding: '24px',
            marginBottom: '32px'
          }}>
            <h2 style={{
              fontSize: '20px',
              fontWeight: 'bold',
              color: 'var(--text-primary)',
              marginBottom: '16px',
              display: 'flex',
              alignItems: 'center',
              gap: '8px'
            }}>
              <FileText size={20} />
              ç”³è«‹æƒ…å ±ã‚µãƒãƒªãƒ¼
            </h2>
            <div style={{
              display: 'grid',
              gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))',
              gap: '24px'
            }}>
              <div>
                <h3 style={{
                  fontSize: '16px',
                  fontWeight: '600',
                  color: 'var(--text-primary)',
                  marginBottom: '8px'
                }}>ç”³è«‹è€…æƒ…å ±</h3>
                <p style={{ color: 'var(--text-secondary)', marginBottom: '4px' }}>
                  {formData?.companyName || formData?.company_name || 'ä¼æ¥­åæœªè¨­å®š'}
                </p>
                <p style={{ color: 'var(--text-secondary)' }}>
                  {formData?.businessDescription || formData?.industry || 'æ¥­ç¨®æœªè¨­å®š'}
                </p>
              </div>
              <div>
                <h3 style={{
                  fontSize: '16px',
                  fontWeight: '600',
                  color: 'var(--text-primary)',
                  marginBottom: '8px'
                }}>ç”³è«‹å†…å®¹</h3>
                <p style={{ color: 'var(--text-secondary)', marginBottom: '4px' }}>
                  å¾“æ¥­å“¡æ•°: {formData?.employeeCount || formData?.employee_count || 'N/A'}å
                </p>
                <p style={{ color: 'var(--text-secondary)' }}>
                  å¹´é–“å£²ä¸Š: {formData?.annualRevenue || formData?.annual_revenue || 'N/A'}ä¸‡å††
                </p>
              </div>
            </div>
          </div>

          {/* ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã‚»ã‚¯ã‚·ãƒ§ãƒ³ */}
          <div style={{ marginBottom: '32px' }}>
            <div style={{
              display: 'flex',
              justifyContent: 'space-between',
              alignItems: 'center',
              marginBottom: '24px',
              flexWrap: 'wrap',
              gap: '16px'
            }}>
              <h2 style={{
                fontSize: '20px',
                fontWeight: 'bold',
                color: 'var(--text-primary)',
                display: 'flex',
                alignItems: 'center',
                gap: '8px'
              }}>
                <Download size={20} />
                ç”³è«‹æ›¸é¡ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
              </h2>
              <button
                onClick={handleGenerateDocuments}
                disabled={isGenerating}
                className="btn-gradient"
                style={{
                  opacity: isGenerating ? 0.7 : 1,
                  cursor: isGenerating ? 'not-allowed' : 'pointer'
                }}
              >
                {isGenerating ? 'ç”Ÿæˆä¸­...' : 'æ›¸é¡ã‚’æœ€æ–°çŠ¶æ…‹ã§å†ç”Ÿæˆ'}
              </button>
            </div>

            <div style={{ display: 'grid', gap: '16px' }}>
              {downloadLinks.map((doc) => (
                <div
                  key={doc.id}
                  className="download-card"
                >
                  <div className="download-icon">{getFileIcon(doc.fileType)}</div>
                  <div className="download-content">
                    <div style={{
                      display: 'flex',
                      alignItems: 'center',
                      gap: '8px',
                      marginBottom: '4px'
                    }}>
                      <h3 style={{
                        fontSize: '16px',
                        fontWeight: '600',
                        color: 'var(--text-primary)'
                      }}>{doc.name}</h3>
                      <span style={{
                        padding: '4px 12px',
                        fontSize: '12px',
                        borderRadius: '100px',
                        fontWeight: '600',
                        background: getCategoryStyle(doc.category).background,
                        color: getCategoryStyle(doc.category).color,
                        border: getCategoryStyle(doc.category).border
                      }}>
                        {doc.category === 'filled' ? 'å…¥åŠ›æ¸ˆã¿' : 
                         doc.category === 'template' ? 'ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ' : 'å‚è€ƒè³‡æ–™'}
                      </span>
                    </div>
                    <p style={{
                      fontSize: '14px',
                      color: 'var(--text-secondary)',
                      marginBottom: '4px'
                    }}>{doc.description}</p>
                    <p style={{
                      fontSize: '12px',
                      color: 'var(--text-muted)'
                    }}>ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚º: {doc.size}</p>
                  </div>
                  <button
                    onClick={() => handleDownload(doc)}
                    className="download-button"
                  >
                    <Download size={16} />
                    ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
                  </button>
                </div>
              ))}
            </div>
          </div>

          {/* æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ— */}
          <div style={{
            background: 'linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%)',
            border: '1px solid rgba(102, 126, 234, 0.2)',
            borderRadius: 'var(--border-radius-lg)',
            padding: '32px',
            marginBottom: '32px',
            position: 'relative',
            overflow: 'hidden'
          }}>
            <h2 style={{
              fontSize: '20px',
              fontWeight: 'bold',
              color: 'var(--text-primary)',
              marginBottom: '20px',
              display: 'flex',
              alignItems: 'center',
              gap: '8px'
            }}>
              <Calendar size={20} />
              æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—
            </h2>
            <div style={{ display: 'grid', gap: '20px' }}>
              {[
                { num: '1', title: 'æ›¸é¡ã®æœ€çµ‚ç¢ºèª', desc: 'ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸæ›¸é¡ã®å†…å®¹ã«èª¤ã‚ŠãŒãªã„ã‹ç¢ºèªã—ã¦ãã ã•ã„' },
                { num: '2', title: 'æ·»ä»˜æ›¸é¡ã®æº–å‚™', desc: 'æ±ºç®—æ›¸ã€ç™»è¨˜ç°¿è¬„æœ¬ãªã©ã®æ·»ä»˜æ›¸é¡ã‚’ã”æº–å‚™ãã ã•ã„' },
                { num: '3', title: 'é›»å­ç”³è«‹ã¾ãŸã¯éƒµé€', desc: 'å„è£œåŠ©é‡‘ã®å…¬å¼ã‚µã‚¤ãƒˆã‹ã‚‰é›»å­ç”³è«‹ã€ã¾ãŸã¯éƒµé€ã§æå‡ºã—ã¦ãã ã•ã„' }
              ].map((step) => (
                <div key={step.num} style={{ display: 'flex', alignItems: 'flex-start', gap: '16px' }}>
                  <div style={{
                    minWidth: '32px',
                    height: '32px',
                    background: 'var(--primary-gradient)',
                    color: 'white',
                    borderRadius: '50%',
                    display: 'flex',
                    alignItems: 'center',
                    justifyContent: 'center',
                    fontSize: '14px',
                    fontWeight: 'bold',
                    boxShadow: 'var(--shadow-sm)'
                  }}>
                    {step.num}
                  </div>
                  <div>
                    <h3 style={{
                      fontSize: '16px',
                      fontWeight: '600',
                      color: 'var(--text-primary)',
                      marginBottom: '4px'
                    }}>{step.title}</h3>
                    <p style={{
                      fontSize: '14px',
                      color: 'var(--text-secondary)',
                      lineHeight: '1.6'
                    }}>{step.desc}</p>
                  </div>
                </div>
              ))}
            </div>
          </div>

          {/* è¿½åŠ ã§å¿…è¦ãªæ›¸é¡ */}
          <div style={{
            background: 'linear-gradient(135deg, rgba(250, 112, 154, 0.1) 0%, rgba(254, 225, 64, 0.1) 100%)',
            border: '1px solid rgba(250, 112, 154, 0.2)',
            borderRadius: 'var(--border-radius-lg)',
            padding: '32px',
            marginBottom: '32px',
            position: 'relative',
            overflow: 'hidden'
          }}>
            <h2 style={{
              fontSize: '20px',
              fontWeight: 'bold',
              color: 'var(--text-primary)',
              marginBottom: '20px',
              display: 'flex',
              alignItems: 'center',
              gap: '8px'
            }}>
              ğŸ“„ è¿½åŠ ã§å¿…è¦ãªæ›¸é¡ã¨å–å¾—å ´æ‰€
            </h2>
            
            <div style={{ marginBottom: '24px' }}>
              <p style={{
                fontSize: '14px',
                color: 'var(--text-secondary)',
                marginBottom: '16px',
                background: 'rgba(250, 112, 154, 0.1)',
                padding: '12px',
                borderRadius: 'var(--border-radius)',
                borderLeft: '4px solid var(--warning-color)'
              }}>
                âš ï¸ ä»¥ä¸‹ã®æ›¸é¡ã¯åˆ¥é€”ã”ç”¨æ„ã„ãŸã ãå¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ç”³è«‹æ™‚ã«å¿…é ˆã¨ãªã‚Šã¾ã™ã®ã§ã€äº‹å‰ã«ã”æº–å‚™ãã ã•ã„ã€‚
              </p>
              
              <div style={{ display: 'grid', gap: '16px' }}>
                {getAdditionalDocuments(selectedSubsidy).map((doc, index) => (
                  <div key={index} style={{
                    background: 'var(--bg-primary)',
                    padding: '20px',
                    borderRadius: 'var(--border-radius)',
                    boxShadow: 'var(--shadow-sm)',
                    display: 'flex',
                    alignItems: 'flex-start',
                    gap: '16px'
                  }}>
                    <div style={{
                      fontSize: '32px',
                      minWidth: '48px',
                      textAlign: 'center'
                    }}>
                      {doc.icon}
                    </div>
                    <div style={{ flex: 1 }}>
                      <h4 style={{
                        fontSize: '16px',
                        fontWeight: '600',
                        color: 'var(--text-primary)',
                        marginBottom: '8px'
                      }}>
                        {doc.name}
                      </h4>
                      <p style={{
                        fontSize: '14px',
                        color: 'var(--text-secondary)',
                        marginBottom: '8px'
                      }}>
                        {doc.description}
                      </p>
                      <div style={{
                        display: 'flex',
                        alignItems: 'center',
                        gap: '8px',
                        fontSize: '14px',
                        color: 'var(--primary-color)'
                      }}>
                        ğŸ“ å–å¾—å ´æ‰€: <strong>{doc.location}</strong>
                      </div>
                      {doc.note && (
                        <p style={{
                          fontSize: '12px',
                          color: 'var(--text-muted)',
                          marginTop: '4px',
                          fontStyle: 'italic'
                        }}>
                          â€» {doc.note}
                        </p>
                      )}
                    </div>
                  </div>
                ))}
              </div>
            </div>
          </div>

          {/* æå‡ºæ–¹æ³• */}
          <div style={{
            background: 'var(--bg-secondary)',
            borderRadius: 'var(--border-radius)',
            padding: '24px',
            marginBottom: '32px'
          }}>
            <h2 style={{
              fontSize: '20px',
              fontWeight: 'bold',
              color: 'var(--text-primary)',
              marginBottom: '20px',
              display: 'flex',
              alignItems: 'center',
              gap: '8px'
            }}>
              ğŸš€ ç”³è«‹æ›¸é¡ã®æå‡ºæ–¹æ³•
            </h2>
            
            <div style={{ display: 'grid', gap: '20px' }}>
              <div style={{
                padding: '20px',
                background: 'linear-gradient(135deg, rgba(79, 172, 254, 0.1) 0%, rgba(0, 242, 254, 0.1) 100%)',
                borderRadius: 'var(--border-radius)',
                border: '1px solid rgba(79, 172, 254, 0.2)'
              }}>
                <h3 style={{
                  fontSize: '16px',
                  fontWeight: '600',
                  color: 'var(--text-primary)',
                  marginBottom: '8px',
                  display: 'flex',
                  alignItems: 'center',
                  gap: '8px'
                }}>
                  ğŸ’» ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ç”³è«‹ï¼ˆæ¨å¥¨ï¼‰
                </h3>
                <p style={{
                  fontSize: '14px',
                  color: 'var(--text-secondary)',
                  marginBottom: '12px'
                }}>
                  {getOnlineSubmissionInfo(selectedSubsidy).description}
                </p>
                <a 
                  href={getOnlineSubmissionInfo(selectedSubsidy).url}
                  target="_blank"
                  rel="noopener noreferrer"
                  style={{
                    display: 'inline-flex',
                    alignItems: 'center',
                    gap: '4px',
                    color: 'var(--primary-color)',
                    fontSize: '14px',
                    fontWeight: '600',
                    textDecoration: 'none'
                  }}
                  onMouseEnter={(e) => e.currentTarget.style.textDecoration = 'underline'}
                  onMouseLeave={(e) => e.currentTarget.style.textDecoration = 'none'}
                >
                  <ExternalLink size={16} />
                  {getOnlineSubmissionInfo(selectedSubsidy).buttonText}
                </a>
              </div>
              
              <div style={{
                padding: '20px',
                background: 'rgba(0, 0, 0, 0.02)',
                borderRadius: 'var(--border-radius)',
                border: '1px solid var(--bg-tertiary)'
              }}>
                <h3 style={{
                  fontSize: '16px',
                  fontWeight: '600',
                  color: 'var(--text-primary)',
                  marginBottom: '8px',
                  display: 'flex',
                  alignItems: 'center',
                  gap: '8px'
                }}>
                  ğŸ“¨ éƒµé€ç”³è«‹
                </h3>
                <p style={{
                  fontSize: '14px',
                  color: 'var(--text-secondary)'
                }}>
                  {getPostalSubmissionInfo(selectedSubsidy)}
                </p>
              </div>
            </div>
          </div>

          {/* æœ‰ç”¨ãªãƒªãƒ³ã‚¯ */}
          <div style={{
            background: 'var(--bg-secondary)',
            borderRadius: 'var(--border-radius)',
            padding: '24px'
          }}>
            <h2 style={{
              fontSize: '20px',
              fontWeight: 'bold',
              color: 'var(--text-primary)',
              marginBottom: '20px',
              display: 'flex',
              alignItems: 'center',
              gap: '8px'
            }}>
              <ExternalLink size={20} />
              å‚è€ƒãƒªãƒ³ã‚¯
            </h2>
            <div style={{
              display: 'grid',
              gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))',
              gap: '24px'
            }}>
              <div>
                <h3 style={{
                  fontSize: '16px',
                  fontWeight: '600',
                  color: 'var(--text-primary)',
                  marginBottom: '12px'
                }}>å…¬å¼ã‚µã‚¤ãƒˆ</h3>
                <div style={{ display: 'flex', flexDirection: 'column', gap: '12px' }}>
                  <a href="https://gbiz-id.go.jp/" target="_blank" rel="noopener noreferrer"
                     style={{
                       color: 'var(--primary-color)',
                       fontSize: '14px',
                       display: 'flex',
                       alignItems: 'center',
                       gap: '4px',
                       textDecoration: 'none',
                       transition: 'all var(--transition-fast)'
                     }}
                     onMouseEnter={(e) => e.currentTarget.style.textDecoration = 'underline'}
                     onMouseLeave={(e) => e.currentTarget.style.textDecoration = 'none'}>
                    <ExternalLink size={14} />
                    GBizIDï¼ˆé›»å­ç”³è«‹ç”¨ï¼‰
                  </a>
                  <a href="https://www.nta.go.jp/taxes/nozei/nozei-shomei/01.htm" target="_blank" rel="noopener noreferrer"
                     style={{
                       color: 'var(--primary-color)',
                       fontSize: '14px',
                       display: 'flex',
                       alignItems: 'center',
                       gap: '4px',
                       textDecoration: 'none',
                       transition: 'all var(--transition-fast)'
                     }}
                     onMouseEnter={(e) => e.currentTarget.style.textDecoration = 'underline'}
                     onMouseLeave={(e) => e.currentTarget.style.textDecoration = 'none'}>
                    <ExternalLink size={14} />
                    å›½ç¨åº - ç´ç¨è¨¼æ˜æ›¸ã®å–å¾—æ–¹æ³•
                  </a>
                  <a href="https://www.touki-kyoutaku-online.moj.go.jp/" target="_blank" rel="noopener noreferrer"
                     style={{
                       color: 'var(--primary-color)',
                       fontSize: '14px',
                       display: 'flex',
                       alignItems: 'center',
                       gap: '4px',
                       textDecoration: 'none',
                       transition: 'all var(--transition-fast)'
                     }}
                     onMouseEnter={(e) => e.currentTarget.style.textDecoration = 'underline'}
                     onMouseLeave={(e) => e.currentTarget.style.textDecoration = 'none'}>
                    <ExternalLink size={14} />
                    ç™»è¨˜ã­ã£ã¨ï¼ˆç™»è¨˜ç°¿è¬„æœ¬ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ç”³è«‹ï¼‰
                  </a>
                </div>
              </div>
              <div>
                <h3 style={{
                  fontSize: '16px',
                  fontWeight: '600',
                  color: 'var(--text-primary)',
                  marginBottom: '12px'
                }}>ã‚µãƒãƒ¼ãƒˆ</h3>
                <div style={{ display: 'flex', flexDirection: 'column', gap: '8px' }}>
                  <a href="mailto:support@subsidy-assistant.com" 
                     style={{
                       color: 'var(--primary-color)',
                       fontSize: '14px',
                       display: 'flex',
                       alignItems: 'center',
                       gap: '4px',
                       textDecoration: 'none',
                       transition: 'all var(--transition-fast)'
                     }}
                     onMouseEnter={(e) => e.currentTarget.style.textDecoration = 'underline'}
                     onMouseLeave={(e) => e.currentTarget.style.textDecoration = 'none'}>
                    ğŸ“§ ã‚µãƒãƒ¼ãƒˆã‚»ãƒ³ã‚¿ãƒ¼
                  </a>
                  <button 
                    onClick={() => window.print()}
                    style={{
                      color: 'var(--primary-color)',
                      fontSize: '14px',
                      display: 'flex',
                      alignItems: 'center',
                      gap: '4px',
                      background: 'none',
                      border: 'none',
                      cursor: 'pointer',
                      padding: 0,
                      transition: 'all var(--transition-fast)',
                      textDecoration: 'none'
                    }}
                    onMouseEnter={(e) => e.currentTarget.style.textDecoration = 'underline'}
                    onMouseLeave={(e) => e.currentTarget.style.textDecoration = 'none'}>
                    <Printer size={14} />
                    ã“ã®ãƒšãƒ¼ã‚¸ã‚’å°åˆ·
                  </button>
                </div>
              </div>
            </div>
          </div>

          {/* ãƒ•ãƒƒã‚¿ãƒ¼ */}
          <div style={{
            textAlign: 'center',
            marginTop: '32px',
            paddingTop: '24px',
            borderTop: '1px solid var(--bg-tertiary)'
          }}>
            <p style={{
              color: 'var(--text-muted)',
              fontSize: '14px',
              marginBottom: '16px'
            }}>
              ITè£œåŠ©é‡‘ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ - ã‚ãªãŸã®è£œåŠ©é‡‘ç”³è«‹ã‚’æœ€å¾Œã¾ã§ã‚µãƒãƒ¼ãƒˆã—ã¾ã™
            </p>
            <div style={{
              display: 'flex',
              justifyContent: 'center',
              gap: '16px',
              alignItems: 'center'
            }}>
              <button
                onClick={() => window.location.reload()}
                style={{
                  color: 'var(--primary-color)',
                  fontSize: '14px',
                  background: 'none',
                  border: 'none',
                  cursor: 'pointer',
                  textDecoration: 'none',
                  transition: 'all var(--transition-fast)'
                }}
                onMouseEnter={(e) => e.currentTarget.style.textDecoration = 'underline'}
                onMouseLeave={(e) => e.currentTarget.style.textDecoration = 'none'}
              >
                æ–°ã—ã„ç”³è«‹ã‚’é–‹å§‹
              </button>
              <span style={{ color: 'var(--bg-tertiary)' }}>|</span>
              <button
                style={{
                  color: 'var(--primary-color)',
                  fontSize: '14px',
                  background: 'none',
                  border: 'none',
                  cursor: 'pointer',
                  textDecoration: 'none',
                  transition: 'all var(--transition-fast)'
                }}
                onMouseEnter={(e) => e.currentTarget.style.textDecoration = 'underline'}
                onMouseLeave={(e) => e.currentTarget.style.textDecoration = 'none'}
                onClick={() => window.history.back()}
              >
                å‰ã®ç”»é¢ã«æˆ»ã‚‹
              </button>
            </div>
          </div>
        </div>

        {/* AIç”Ÿæˆæ›¸é¡ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ¢ãƒ¼ãƒ€ãƒ« */}
        {showDocumentPreview && generatedContent && (
          <div style={{
            position: 'fixed',
            top: 0,
            left: 0,
            right: 0,
            bottom: 0,
            backgroundColor: 'rgba(0, 0, 0, 0.75)',
            backdropFilter: 'blur(4px)',
            zIndex: 1000,
            display: 'flex',
            alignItems: 'center',
            justifyContent: 'center',
            padding: '20px'
          }}
          onClick={(e) => {
            if (e.target === e.currentTarget) {
              setShowDocumentPreview(false);
            }
          }}>
            <div style={{
              backgroundColor: 'var(--bg-primary)',
              borderRadius: 'var(--border-radius-lg)',
              maxWidth: '900px',
              width: '100%',
              maxHeight: '90vh',
              overflow: 'hidden',
              boxShadow: '0 25px 50px rgba(0, 0, 0, 0.3)',
              border: '1px solid var(--bg-tertiary)'
            }}>
              {/* ãƒ˜ãƒƒãƒ€ãƒ¼ */}
              <div style={{
                padding: '24px',
                borderBottom: '1px solid var(--bg-tertiary)',
                display: 'flex',
                justifyContent: 'space-between',
                alignItems: 'center',
                backgroundColor: 'var(--bg-secondary)'
              }}>
                <div>
                  <h2 style={{
                    fontSize: '24px',
                    fontWeight: 'bold',
                    color: 'var(--text-primary)',
                    marginBottom: '4px'
                  }}>
                    AIç”Ÿæˆæ›¸é¡ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼
                  </h2>
                  <p style={{
                    fontSize: '14px',
                    color: 'var(--text-secondary)'
                  }}>
                    {selectedDocument === 'business_plan' && 'çµŒå–¶è¨ˆç”»æ›¸'}
                    {selectedDocument === 'sales_plan' && 'è²©è·¯é–‹æ‹“è¨ˆç”»æ›¸'}
                    {selectedDocument === 'expected_effect' && 'äº‹æ¥­åŠ¹æœèª¬æ˜æ›¸'}
                    {selectedDocument === 'it_implementation' && 'ITå°å…¥è¨ˆç”»æ›¸'}
                    {selectedDocument === 'productivity_plan' && 'ç”Ÿç”£æ€§å‘ä¸Šè¨ˆç”»æ›¸'}
                    {selectedDocument === 'wage_increase' && 'è³ƒé‡‘å¼•ä¸Šã’è¨ˆç”»æ›¸'}
                    {selectedDocument === 'technical_plan' && 'æŠ€è¡“é–‹ç™ºè¨ˆç”»æ›¸'}
                    {selectedDocument === 'market_strategy' && 'å¸‚å ´æˆ¦ç•¥æ›¸'}
                    {selectedDocument === 'investment_plan' && 'è¨­å‚™æŠ•è³‡è¨ˆç”»æ›¸'}
                  </p>
                </div>
                <div style={{ display: 'flex', gap: '12px', alignItems: 'center' }}>
                  <button
                    onClick={() => {
                      // ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ç”¨ã®å†…å®¹ã‚’æº–å‚™
                      const contentToDownload = isEditMode ? editedContent : generatedContent;
                      const docType = {
                        'business_plan': 'çµŒå–¶è¨ˆç”»æ›¸',
                        'sales_plan': 'è²©è·¯é–‹æ‹“è¨ˆç”»æ›¸',
                        'expected_effect': 'äº‹æ¥­åŠ¹æœèª¬æ˜æ›¸',
                        'it_implementation': 'ITå°å…¥è¨ˆç”»æ›¸',
                        'productivity_plan': 'ç”Ÿç”£æ€§å‘ä¸Šè¨ˆç”»æ›¸',
                        'wage_increase': 'è³ƒé‡‘å¼•ä¸Šã’è¨ˆç”»æ›¸',
                        'technical_plan': 'æŠ€è¡“é–‹ç™ºè¨ˆç”»æ›¸',
                        'market_strategy': 'å¸‚å ´æˆ¦ç•¥æ›¸',
                        'investment_plan': 'è¨­å‚™æŠ•è³‡è¨ˆç”»æ›¸'
                      }[selectedDocument] || 'AIç”Ÿæˆæ›¸é¡';
                      
                      // ãƒ•ã‚¡ã‚¤ãƒ«å†…å®¹ã‚’ä½œæˆ
                      let fileContent = `${docType}\n${'='.repeat(50)}\n\n`;
                      
                      contentToDownload.sections.forEach((section: any, index: number) => {
                        fileContent += `${index + 1}. ${section.title}\n${'-'.repeat(30)}\n`;
                        fileContent += `${section.content}\n\n`;
                      });
                      
                      fileContent += `\n${'='.repeat(50)}\nç”Ÿæˆæ—¥æ™‚: ${new Date().toLocaleString('ja-JP')}\n`;
                      
                      // ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰å®Ÿè¡Œ
                      const blob = new Blob([fileContent], { type: 'text/plain;charset=utf-8' });
                      const url = URL.createObjectURL(blob);
                      const link = document.createElement('a');
                      link.href = url;
                      link.download = `${selectedSubsidy}_${selectedDocument}_${new Date().toISOString().split('T')[0]}.txt`;
                      document.body.appendChild(link);
                      link.click();
                      document.body.removeChild(link);
                      URL.revokeObjectURL(url);
                    }}
                    style={{
                      padding: '8px 16px',
                      background: '#10b981',
                      color: 'white',
                      border: 'none',
                      borderRadius: '8px',
                      fontSize: '14px',
                      fontWeight: '600',
                      cursor: 'pointer',
                      display: 'flex',
                      alignItems: 'center',
                      gap: '6px',
                      transition: 'all 0.2s'
                    }}
                    onMouseEnter={(e) => {
                      e.currentTarget.style.transform = 'translateY(-1px)';
                      e.currentTarget.style.boxShadow = '0 4px 12px rgba(16, 185, 129, 0.3)';
                    }}
                    onMouseLeave={(e) => {
                      e.currentTarget.style.transform = 'translateY(0)';
                      e.currentTarget.style.boxShadow = 'none';
                    }}
                  >
                    <Download size={14} />
                    ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
                  </button>
                  <button
                    onClick={() => {
                      if (isEditMode) {
                        // ç·¨é›†ãƒ¢ãƒ¼ãƒ‰ã‚’çµ‚äº†ã—ã¦ä¿å­˜
                        setGeneratedContent(editedContent);
                        setIsEditMode(false);
                        
                        // ç·¨é›†ã—ãŸå†…å®¹ã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ä¿å­˜
                        const storageKey = `editedDocument_${selectedSubsidy}_${selectedDocument}`;
                        localStorage.setItem(storageKey, JSON.stringify(editedContent));
                        
                        // ä¿å­˜å®Œäº†ã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯
                        alert('ç·¨é›†å†…å®¹ã‚’ä¿å­˜ã—ã¾ã—ãŸã€‚æ¬¡å›ã‚¢ã‚¯ã‚»ã‚¹æ™‚ã‚‚ç·¨é›†å†…å®¹ãŒç¶­æŒã•ã‚Œã¾ã™ã€‚');
                      } else {
                        // ç·¨é›†ãƒ¢ãƒ¼ãƒ‰ã«å…¥ã‚‹
                        setIsEditMode(true);
                      }
                    }}
                    style={{
                      padding: '8px 16px',
                      background: isEditMode ? '#10b981' : '#667eea',
                      color: 'white',
                      border: 'none',
                      borderRadius: '8px',
                      fontSize: '14px',
                      fontWeight: '600',
                      cursor: 'pointer',
                      display: 'flex',
                      alignItems: 'center',
                      gap: '6px',
                      transition: 'all 0.2s'
                    }}
                  >
                    {isEditMode ? 'âœ“ ä¿å­˜' : 'âœï¸ ç·¨é›†'}
                  </button>
                  <button
                  onClick={() => {
                    setShowDocumentPreview(false);
                    setIsEditMode(false);
                  }}
                  style={{
                    background: 'none',
                    border: 'none',
                    fontSize: '24px',
                    cursor: 'pointer',
                    color: 'var(--text-secondary)',
                    padding: '8px',
                    borderRadius: '50%',
                    transition: 'all var(--transition-fast)'
                  }}
                  onMouseEnter={(e) => {
                    e.currentTarget.style.backgroundColor = 'var(--bg-tertiary)';
                    e.currentTarget.style.color = 'var(--text-primary)';
                  }}
                  onMouseLeave={(e) => {
                    e.currentTarget.style.backgroundColor = 'transparent';
                    e.currentTarget.style.color = 'var(--text-secondary)';
                  }}
                >
                  Ã—
                </button>
                </div>
              </div>

              {/* ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ */}
              <div style={{
                padding: '24px',
                overflow: 'auto',
                maxHeight: 'calc(90vh - 120px)'
              }}>
                <div style={{
                  background: 'linear-gradient(135deg, rgba(79, 172, 254, 0.05) 0%, rgba(0, 242, 254, 0.05) 100%)',
                  border: '1px solid rgba(79, 172, 254, 0.2)',
                  borderRadius: 'var(--border-radius)',
                  padding: '16px',
                  marginBottom: '24px'
                }}>
                  <div style={{
                    display: 'flex',
                    alignItems: 'center',
                    gap: '8px',
                    marginBottom: '8px'
                  }}>
                    <FileSignature size={16} style={{ color: 'var(--primary-color)' }} />
                    <span style={{
                      fontSize: '14px',
                      fontWeight: '600',
                      color: 'var(--primary-color)'
                    }}>
                      AIãŒè²´ç¤¾ã®æƒ…å ±ã‚’åŸºã«è‡ªå‹•ç”Ÿæˆã—ãŸå†…å®¹ã§ã™
                    </span>
                  </div>
                  <p style={{
                    fontSize: '13px',
                    color: 'var(--text-secondary)',
                    margin: 0
                  }}>
                    ã“ã®å†…å®¹ã¯å‚è€ƒã¨ã—ã¦æ´»ç”¨ã—ã€å¿…è¦ã«å¿œã˜ã¦ä¿®æ­£ãƒ»åŠ ç­†ã—ã¦ãã ã•ã„ã€‚
                  </p>
                </div>

                <div style={{
                  backgroundColor: 'white',
                  padding: '32px',
                  borderRadius: 'var(--border-radius)',
                  boxShadow: 'var(--shadow-sm)',
                  border: '1px solid #e5e7eb'
                }}>
                  {generatedContent.sections.map((section: any, index: number) => (
                    <div key={index} style={{
                      marginBottom: index < generatedContent.sections.length - 1 ? '32px' : '0'
                    }}>
                      <h3 style={{
                        fontSize: '18px',
                        fontWeight: 'bold',
                        color: '#1f2937',
                        marginBottom: '16px',
                        paddingBottom: '8px',
                        borderBottom: '2px solid #e5e7eb'
                      }}>
                        {section.title}
                      </h3>
                      {isEditMode ? (
                        <textarea
                          value={editedContent.sections[index].content}
                          onChange={(e) => {
                            const newContent = { ...editedContent };
                            newContent.sections[index].content = e.target.value;
                            setEditedContent(newContent);
                          }}
                          style={{
                            width: '100%',
                            minHeight: '200px',
                            padding: '12px',
                            border: '2px solid #e5e7eb',
                            borderRadius: '8px',
                            fontSize: '14px',
                            lineHeight: '1.8',
                            color: '#374151',
                            resize: 'vertical',
                            fontFamily: 'inherit',
                            outline: 'none'
                          }}
                          onFocus={(e) => {
                            e.target.style.borderColor = '#667eea';
                          }}
                          onBlur={(e) => {
                            e.target.style.borderColor = '#e5e7eb';
                          }}
                        />
                      ) : (
                        <div style={{
                          fontSize: '14px',
                          lineHeight: '1.8',
                          color: '#374151',
                          whiteSpace: 'pre-wrap'
                        }}>
                          {section.content}
                        </div>
                      )}
                    </div>
                  ))}
                </div>

                {isEditMode && (
                  <div style={{
                    marginTop: '16px',
                    padding: '12px',
                    background: '#fef3c7',
                    borderRadius: '8px',
                    fontSize: '14px',
                    color: '#92400e',
                    display: 'flex',
                    alignItems: 'center',
                    gap: '8px'
                  }}>
                    ğŸ’¡ ç·¨é›†ãƒ¢ãƒ¼ãƒ‰ã§ã™ã€‚å„ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®å†…å®¹ã‚’è‡ªç”±ã«ç·¨é›†ã§ãã¾ã™ã€‚ç·¨é›†ãŒå®Œäº†ã—ãŸã‚‰ã€Œä¿å­˜ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãã ã•ã„ã€‚
                  </div>
                )}

                <div style={{
                  display: 'flex',
                  justifyContent: 'center',
                  gap: '16px',
                  marginTop: '24px'
                }}>
                  <button
                    onClick={() => {
                      // ç·¨é›†ã—ãŸå†…å®¹ã‚’å«ã‚ã¦å°åˆ·
                      const contentToPrint = isEditMode ? editedContent : generatedContent;
                      // ä¸€æ™‚çš„ã«ç·¨é›†ãƒ¢ãƒ¼ãƒ‰ã‚’è§£é™¤ã—ã¦å°åˆ·
                      if (isEditMode) {
                        setIsEditMode(false);
                        setTimeout(() => {
                          window.print();
                          setIsEditMode(true);
                        }, 100);
                      } else {
                        window.print();
                      }
                    }}
                    style={{
                      padding: '12px 24px',
                      background: 'var(--bg-secondary)',
                      color: 'var(--text-primary)',
                      border: '1px solid var(--bg-tertiary)',
                      borderRadius: 'var(--border-radius)',
                      cursor: 'pointer',
                      fontSize: '14px',
                      fontWeight: '600',
                      display: 'flex',
                      alignItems: 'center',
                      gap: '8px',
                      transition: 'all var(--transition-fast)'
                    }}
                    onMouseEnter={(e) => {
                      e.currentTarget.style.backgroundColor = 'var(--bg-tertiary)';
                    }}
                    onMouseLeave={(e) => {
                      e.currentTarget.style.backgroundColor = 'var(--bg-secondary)';
                    }}
                  >
                    <Printer size={16} />
                    å°åˆ·
                  </button>
                  <button
                    onClick={() => setShowDocumentPreview(false)}
                    className="btn-gradient"
                    style={{
                      padding: '12px 24px',
                      fontSize: '14px',
                      fontWeight: '600'
                    }}
                  >
                    é–‰ã˜ã‚‹
                  </button>
                </div>
              </div>
            </div>
          </div>
        )}
      </div>
    </div>
  );
};

export default CompletionPage;