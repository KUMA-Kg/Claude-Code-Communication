<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ITË£úÂä©ÈáëË®∫Êñ≠„ÉÑ„Éº„É´</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background-color: #f9fafb;
            min-height: 100vh;
        }
        
        header {
            background-color: white;
            padding: 16px;
            border-bottom: 1px solid #e5e7eb;
        }
        
        header h1 {
            max-width: 1200px;
            margin: 0 auto;
            font-size: 24px;
            color: #1f2937;
        }
        
        .container {
            max-width: 600px;
            margin: 40px auto;
            padding: 0 20px;
        }
        
        .card {
            background-color: white;
            border-radius: 12px;
            padding: 32px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        
        .progress-bar {
            margin-bottom: 32px;
        }
        
        .progress-bar-bg {
            background-color: #e5e7eb;
            height: 8px;
            border-radius: 4px;
            overflow: hidden;
        }
        
        .progress-bar-fill {
            background-color: #2563eb;
            height: 100%;
            border-radius: 4px;
            transition: width 0.3s ease;
        }
        
        .progress-text {
            text-align: center;
            margin-top: 8px;
            color: #6b7280;
            font-size: 14px;
        }
        
        h2 {
            font-size: 24px;
            margin-bottom: 24px;
            color: #1f2937;
        }
        
        .options {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        
        .option-button {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 16px;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            background-color: #f9fafb;
            cursor: pointer;
            transition: all 0.2s ease;
            text-align: left;
            font-size: 16px;
        }
        
        .option-button:hover {
            background-color: #eff6ff;
            border-color: #2563eb;
        }
        
        .option-icon {
            font-size: 24px;
        }
        
        .option-label {
            flex: 1;
            color: #374151;
        }
        
        .back-button {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            margin-top: 16px;
            padding: 8px 16px;
            background: none;
            border: none;
            color: #6b7280;
            cursor: pointer;
            font-size: 14px;
        }
        
        .back-button:hover {
            color: #1f2937;
        }
        
        /* ÁµêÊûúÁîªÈù¢„ÅÆ„Çπ„Çø„Ç§„É´ */
        .result-container {
            text-align: center;
            margin-bottom: 32px;
        }
        
        .result-icon {
            font-size: 64px;
            margin-bottom: 16px;
        }
        
        .result-title {
            font-size: 32px;
            margin-bottom: 8px;
            color: #1f2937;
        }
        
        .result-subtitle {
            color: #6b7280;
            margin-bottom: 32px;
        }
        
        .subsidy-card {
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 16px;
            transition: all 0.2s ease;
        }
        
        .subsidy-card.recommended {
            border-color: #2563eb;
            background-color: #eff6ff;
        }
        
        .subsidy-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 16px;
        }
        
        .subsidy-name {
            font-size: 20px;
            font-weight: bold;
            color: #1f2937;
        }
        
        .recommended-badge {
            background-color: #2563eb;
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            margin-left: 12px;
        }
        
        .score-circle {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: bold;
        }
        
        .score-high { background-color: #d1fae5; color: #065f46; }
        .score-medium { background-color: #fef3c7; color: #92400e; }
        .score-low { background-color: #e5e7eb; color: #6b7280; }
        
        .subsidy-info {
            display: flex;
            gap: 32px;
            margin-top: 16px;
            font-size: 14px;
        }
        
        .info-item {
            color: #6b7280;
        }
        
        .info-value {
            font-weight: bold;
            color: #1f2937;
            margin-left: 4px;
        }
        
        .select-button {
            width: 100%;
            padding: 12px;
            background-color: #2563eb;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 500;
            margin-top: 16px;
        }
        
        .select-button:hover {
            background-color: #1d4ed8;
        }
        
        .restart-button {
            background: none;
            border: none;
            color: #6b7280;
            text-decoration: underline;
            cursor: pointer;
            margin-top: 24px;
        }
    </style>
</head>
<body>
    <header>
        <h1>ITË£úÂä©Èáë„Ç¢„Ç∑„Çπ„Çø„É≥„Éà</h1>
    </header>
    
    <div class="container">
        <div id="question-screen" class="card">
            <div class="progress-bar">
                <div class="progress-bar-bg">
                    <div id="progress-fill" class="progress-bar-fill" style="width: 16.67%"></div>
                </div>
                <p id="progress-text" class="progress-text">Ë≥™Âïè 1 / 6</p>
            </div>
            
            <h2 id="question-text">„ÅÇ„Å™„Åü„ÅÆ‰∫ãÊ•≠„ÅÆÁèæÂú®„ÅÆÁä∂Ê≥Å„ÇíÊïô„Åà„Å¶„Åè„Å†„Åï„ÅÑ</h2>
            
            <div id="options" class="options"></div>
            
            <button id="back-button" class="back-button" style="display: none">
                ‚Üê Ââç„ÅÆË≥™Âïè„Å´Êàª„Çã
            </button>
        </div>
        
        <div id="result-screen" class="card" style="display: none">
            <div class="result-container">
                <div class="result-icon">‚úÖ</div>
                <h2 class="result-title">Ë®∫Êñ≠ÂÆå‰∫ÜÔºÅ</h2>
                <p class="result-subtitle">„ÅÇ„Å™„Åü„Å´ÊúÄÈÅ©„Å™Ë£úÂä©Èáë„Çí„ÅîÊèêÊ°à„Åó„Åæ„Åô</p>
            </div>
            
            <div id="subsidy-results"></div>
            
            <button class="restart-button" onclick="restart()">„ÇÇ„ÅÜ‰∏ÄÂ∫¶Ë®∫Êñ≠„Åô„Çã</button>
        </div>
    </div>
    
    <script>
        const questions = [
            {
                id: 1,
                question: "„ÅÇ„Å™„Åü„ÅÆ‰∫ãÊ•≠„ÅÆÁèæÂú®„ÅÆÁä∂Ê≥Å„ÇíÊïô„Åà„Å¶„Åè„Å†„Åï„ÅÑ",
                options: [
                    { value: "existing", label: "Êó¢„Å´‰∫ãÊ•≠„ÇíÈÅãÂñ∂„Åó„Å¶„ÅÑ„Çã", icon: "üè¢" },
                    { value: "planning", label: "„Åì„Çå„Åã„ÇâÂâµÊ•≠‰∫àÂÆö", icon: "üöÄ" },
                    { value: "startup", label: "ÂâµÊ•≠„Åó„Å¶3Âπ¥‰ª•ÂÜÖ", icon: "üå±" }
                ]
            },
            {
                id: 2,
                question: "ÂæìÊ•≠Âì°Êï∞Ôºà„Éë„Éº„Éà„Éª„Ç¢„É´„Éê„Ç§„ÉàÂê´„ÇÄÔºâ„ÇíÊïô„Åà„Å¶„Åè„Å†„Åï„ÅÑ",
                options: [
                    { value: "solo", label: "1‰∫∫ÔºàÂÄã‰∫∫‰∫ãÊ•≠‰∏ªÔºâ", icon: "üë§" },
                    { value: "micro", label: "2„Äú5‰∫∫", icon: "üë•" },
                    { value: "small", label: "6„Äú20‰∫∫", icon: "üë®‚Äçüë©‚Äçüëß‚Äçüë¶" },
                    { value: "medium", label: "21„Äú100‰∫∫", icon: "üè¢" },
                    { value: "large", label: "101‰∫∫‰ª•‰∏ä", icon: "üèõÔ∏è" }
                ]
            },
            {
                id: 3,
                question: "‰∏ª„Å™‰∫ãÊ•≠ÂàÜÈáé„ÇíÊïô„Åà„Å¶„Åè„Å†„Åï„ÅÑ",
                options: [
                    { value: "manufacturing", label: "Ë£ΩÈÄ†Ê•≠", icon: "üè≠" },
                    { value: "retail", label: "Â∞èÂ£≤Ê•≠", icon: "üõçÔ∏è" },
                    { value: "service", label: "„Çµ„Éº„Éì„ÇπÊ•≠", icon: "ü§ù" },
                    { value: "it", label: "ÊÉÖÂ†±ÈÄö‰ø°Ê•≠", icon: "üíª" },
                    { value: "construction", label: "Âª∫Ë®≠Ê•≠", icon: "üèóÔ∏è" },
                    { value: "other", label: "„Åù„ÅÆ‰ªñ", icon: "üìã" }
                ]
            },
            {
                id: 4,
                question: "‰ªäÂõû„ÅÆÊäïË≥á„ÅßÂÆüÁèæ„Åó„Åü„ÅÑ„Åì„Å®„ÅØÔºüÔºàÊúÄ„ÇÇÈáçË¶Å„Å™„ÇÇ„ÅÆÔºâ",
                options: [
                    { value: "digital", label: "Ê•≠Âãô„ÅÆ„Éá„Ç∏„Çø„É´Âåñ„ÉªÂäπÁéáÂåñ", icon: "üñ•Ô∏è" },
                    { value: "sales", label: "Â£≤‰∏äÊã°Â§ß„ÉªÊñ∞Ë¶èÈ°ßÂÆ¢ÈñãÊãì", icon: "üìà" },
                    { value: "product", label: "Êñ∞Ë£ΩÂìÅ„Éª„Çµ„Éº„Éì„ÇπÈñãÁô∫", icon: "üí°" },
                    { value: "facility", label: "Ë®≠ÂÇôÊäïË≥á„ÉªÁîüÁî£ÊÄßÂêë‰∏ä", icon: "‚öôÔ∏è" },
                    { value: "security", label: "„Çª„Ç≠„É•„É™„ÉÜ„Ç£Âº∑Âåñ", icon: "üîí" }
                ]
            },
            {
                id: 5,
                question: "ÊÉ≥ÂÆö„Åó„Å¶„ÅÑ„ÇãÊäïË≥á‰∫àÁÆó„ÇíÊïô„Åà„Å¶„Åè„Å†„Åï„ÅÑ",
                options: [
                    { value: "under50", label: "50‰∏áÂÜÜÊú™Ê∫Ä", icon: "üí∞" },
                    { value: "50to100", label: "50‰∏áÂÜÜ„Äú100‰∏áÂÜÜ", icon: "üí∞üí∞" },
                    { value: "100to500", label: "100‰∏áÂÜÜ„Äú500‰∏áÂÜÜ", icon: "üí∞üí∞üí∞" },
                    { value: "500to1000", label: "500‰∏áÂÜÜ„Äú1000‰∏áÂÜÜ", icon: "üí∞üí∞üí∞üí∞" },
                    { value: "over1000", label: "1000‰∏áÂÜÜ‰ª•‰∏ä", icon: "üí∞üí∞üí∞üí∞üí∞" }
                ]
            },
            {
                id: 6,
                question: "„ÅÑ„Å§„Åã„ÇâÂèñ„ÇäÁµÑ„Åø„ÇíÈñãÂßã„Åó„Åü„ÅÑ„Åß„Åô„ÅãÔºü",
                options: [
                    { value: "asap", label: "„Åô„Åê„Å´ÈñãÂßã„Åó„Åü„ÅÑÔºà1„É∂Êúà‰ª•ÂÜÖÔºâ", icon: "‚ö°" },
                    { value: "quarter", label: "3„É∂Êúà‰ª•ÂÜÖ", icon: "üìÖ" },
                    { value: "half", label: "ÂçäÂπ¥‰ª•ÂÜÖ", icon: "üìÜ" },
                    { value: "year", label: "1Âπ¥‰ª•ÂÜÖ", icon: "üóìÔ∏è" }
                ]
            }
        ];
        
        const subsidies = [
            {
                id: "it",
                name: "ITÂ∞éÂÖ•Ë£úÂä©Èáë2025",
                description: "IT„ÉÑ„Éº„É´Â∞éÂÖ•„Å´„Çà„ÇãÁîüÁî£ÊÄßÂêë‰∏ä„ÇíÊîØÊè¥",
                maxAmount: "450‰∏áÂÜÜ",
                rate: "1/2ÔΩû3/4"
            },
            {
                id: "monozukuri",
                name: "„ÇÇ„ÅÆ„Å•„Åè„ÇäË£úÂä©Èáë",
                description: "Èù©Êñ∞ÁöÑ„Å™Ë£ΩÂìÅ„Éª„Çµ„Éº„Éì„ÇπÈñãÁô∫„ÄÅË®≠ÂÇôÊäïË≥á„ÇíÊîØÊè¥",
                maxAmount: "5,000‰∏áÂÜÜ",
                rate: "1/2ÔΩû2/3"
            },
            {
                id: "jizokuka",
                name: "Â∞èË¶èÊ®°‰∫ãÊ•≠ËÄÖÊåÅÁ∂öÂåñË£úÂä©Èáë",
                description: "Ë≤©Ë∑ØÈñãÊãì„ÉªÁîüÁî£ÊÄßÂêë‰∏ä„ÇíÊîØÊè¥",
                maxAmount: "200‰∏áÂÜÜ",
                rate: "2/3ÔΩû3/4"
            }
        ];
        
        let currentQuestion = 0;
        let answers = {};
        
        function renderQuestion() {
            const question = questions[currentQuestion];
            const progress = ((currentQuestion + 1) / questions.length) * 100;
            
            document.getElementById('progress-fill').style.width = progress + '%';
            document.getElementById('progress-text').textContent = `Ë≥™Âïè ${currentQuestion + 1} / ${questions.length}`;
            document.getElementById('question-text').textContent = question.question;
            
            const optionsContainer = document.getElementById('options');
            optionsContainer.innerHTML = '';
            
            question.options.forEach(option => {
                const button = document.createElement('button');
                button.className = 'option-button';
                button.onclick = () => handleAnswer(option.value);
                
                button.innerHTML = `
                    <span class="option-icon">${option.icon}</span>
                    <span class="option-label">${option.label}</span>
                    <span>‚Üí</span>
                `;
                
                optionsContainer.appendChild(button);
            });
            
            document.getElementById('back-button').style.display = currentQuestion > 0 ? 'inline-flex' : 'none';
        }
        
        function handleAnswer(value) {
            answers[currentQuestion + 1] = value;
            
            if (currentQuestion < questions.length - 1) {
                currentQuestion++;
                renderQuestion();
            } else {
                showResults();
            }
        }
        
        function calculateScores() {
            const scores = { it: 0, monozukuri: 0, jizokuka: 0 };
            
            // „Çπ„Ç≥„Ç¢„É™„É≥„Ç∞„É≠„Ç∏„ÉÉ„ÇØ
            if (answers[4] === "digital" || answers[4] === "security") scores.it += 40;
            if (answers[4] === "product" || answers[4] === "facility") scores.monozukuri += 40;
            if (answers[4] === "sales") scores.jizokuka += 40;
            
            if (answers[2] === "solo" || answers[2] === "micro") scores.jizokuka += 30;
            if (answers[2] === "small" || answers[2] === "medium") scores.it += 20;
            if (answers[2] === "medium" || answers[2] === "large") scores.monozukuri += 20;
            
            if (answers[5] === "under50" || answers[5] === "50to100") scores.jizokuka += 20;
            if (answers[5] === "100to500") scores.it += 20;
            if (answers[5] === "500to1000" || answers[5] === "over1000") scores.monozukuri += 20;
            
            if (answers[3] === "it") scores.it += 10;
            if (answers[3] === "manufacturing") scores.monozukuri += 10;
            if (answers[3] === "retail" || answers[3] === "service") scores.jizokuka += 10;
            
            return scores;
        }
        
        function showResults() {
            document.getElementById('question-screen').style.display = 'none';
            document.getElementById('result-screen').style.display = 'block';
            
            const scores = calculateScores();
            const sortedSubsidies = subsidies
                .map(s => ({ ...s, score: scores[s.id] }))
                .sort((a, b) => b.score - a.score);
            
            const resultsContainer = document.getElementById('subsidy-results');
            resultsContainer.innerHTML = '';
            
            sortedSubsidies.forEach((subsidy, index) => {
                const card = document.createElement('div');
                card.className = `subsidy-card ${index === 0 ? 'recommended' : ''}`;
                
                const scoreClass = subsidy.score >= 70 ? 'score-high' : 
                                  subsidy.score >= 50 ? 'score-medium' : 'score-low';
                const compatibility = subsidy.score >= 70 ? 'È´ò' : 
                                     subsidy.score >= 50 ? '‰∏≠' : '‰Ωé';
                
                card.innerHTML = `
                    <div class="subsidy-header">
                        <div>
                            <span class="subsidy-name">${subsidy.name}</span>
                            ${index === 0 ? '<span class="recommended-badge">„Åä„Åô„Åô„ÇÅ</span>' : ''}
                        </div>
                        <div style="text-align: center">
                            <div class="score-circle ${scoreClass}">${subsidy.score}%</div>
                            <div style="margin-top: 8px; font-size: 14px">ÈÅ©ÂêàÂ∫¶: ${compatibility}</div>
                        </div>
                    </div>
                    <p style="color: #6b7280; margin-bottom: 16px">${subsidy.description}</p>
                    <div class="subsidy-info">
                        <div class="info-item">
                            Ë£úÂä©‰∏äÈôê:<span class="info-value">${subsidy.maxAmount}</span>
                        </div>
                        <div class="info-item">
                            Ë£úÂä©Áéá:<span class="info-value">${subsidy.rate}</span>
                        </div>
                    </div>
                    ${index === 0 ? '<button class="select-button">„Åì„ÅÆË£úÂä©Èáë„ÅßÁî≥Ë´ãÊ∫ñÂÇô„ÇíÂßã„ÇÅ„Çã ‚Üí</button>' : ''}
                `;
                
                resultsContainer.appendChild(card);
            });
        }
        
        function restart() {
            currentQuestion = 0;
            answers = {};
            document.getElementById('question-screen').style.display = 'block';
            document.getElementById('result-screen').style.display = 'none';
            renderQuestion();
        }
        
        document.getElementById('back-button').onclick = () => {
            if (currentQuestion > 0) {
                currentQuestion--;
                renderQuestion();
            }
        };
        
        // ÂàùÊúüË°®Á§∫
        renderQuestion();
    </script>
</body>
</html>